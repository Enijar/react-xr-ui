"use strict";(self.webpackChunkreact_xr_ui=self.webpackChunkreact_xr_ui||[]).push([[258],{228:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(462),i=n(294),o=n(477),a=n(561);let l=-1;const c=i.createContext({parentUuid:null,currentChildren:[],addChild(){},removeChild(){}}),s=[0,0];function u(e,t){let{zIndex:n=0,resolution:u=2048,visible:d=!0,autoLayout:h=!0,width:m=1,height:f=1,opacity:g=1,backgroundColor:C="transparent",backgroundImage:p,backgroundSize:w,backgroundPosition:v=s,borderRadius:E=0,borderWidth:x=0,borderColor:b="transparent",flexDirection:k="row",alignItems:y="center",justifyContent:S="center",gap:Z=0,textContent:M,textAlign:I="left",justifyText:z=!1,verticalAlign:j="top",color:A="white",fontFamily:U="system-ui, sans-serif",fontSize:D=.1,fontWeight:T="normal",childIndex:O,children:P,...R}=e;const F=i.useMemo((()=>++l),[]),W=i.useRef(null),B=i.useRef(null),_=i.useContext(c),L=i.useMemo((()=>o.MathUtils.generateUUID()),[]);i.useEffect((()=>{if(null!==_.parentUuid&&void 0!==O)return _.addChild({width:m,height:f,index:O,uuid:L}),()=>{_.removeChild(L)}}),[m,f,O,_.parentUuid]);const q=i.useMemo((()=>document.createElement("canvas").getContext("2d")),[]);i.useMemo((()=>{q.canvas.width=Math.max(1,Math.floor(m*u)),q.canvas.height=Math.max(1,Math.floor(f*u))}),[q.canvas,m,f,u]);const G=i.useMemo((()=>{const e=new o.CanvasTexture(q.canvas);return e.anisotropy=16,e}),[q.canvas,m,f]),N=i.useMemo((()=>({backgroundImage:new Image})),[]);i.useMemo((()=>{void 0!==p&&(N.backgroundImage.src=p)}),[N.backgroundImage,p]),i.useEffect((()=>{let e;return function t(){e=requestAnimationFrame(t);const n=q.canvas.width,r=q.canvas.height,i=Math.PI/180,l=(n+r)/2,{mapLinear:c}=o.MathUtils;q.globalCompositeOperation="source-over",q.clearRect(0,0,n,r);{const e=Array.isArray(E),t=E,o=E;let[a=0,c=0,s=0,u=0]=e?t:[o,o,o,o];a*=l,c*=l,s*=l,u*=l,q.beginPath(),q.moveTo(a,0),q.lineTo(n-c,0),q.arc(n-c,c,c,270*i,360*i),q.lineTo(n,r-s),q.arc(n-s,r-s,s,0,90*i),q.lineTo(u,r),q.arc(u,r-u,u,90*i,180*i),q.lineTo(0,a),q.arc(a,a,a,180*i,270*i),q.closePath()}q.globalAlpha=g,q.fillStyle=C,q.lineWidth=x*l*2,q.fill();const s=x*l,u=x*l;if(void 0!==p){var d,h;const e=null!==(d=null==v?void 0:v[0])&&void 0!==d?d:.5,t=null!==(h=null==v?void 0:v[1])&&void 0!==h?h:.5,i=0,o=0,a=N.backgroundImage.width,l=N.backgroundImage.height,m=a/l,f=n/r;let g=a,C=l;switch(w){case"stretch":g=n,C=r;break;case"contain":g=n-2*s,C=r-2*u,m>f?C=g/m:g=C*m;break;case"cover":g=n-2*s,C=r-2*u,m<f?C=g/m:g=C*m}const p=s+c(e,0,1,0,n-2*s-g),E=u+c(t,0,1,0,r-2*u-C);q.save(),q.clip(),q.drawImage(N.backgroundImage,i,o,a,l,p,E,g,C),q.restore()}void 0!==M&&(a.font=U,a.fontSize=D*Math.min(n,r),a.align=I,a.vAlign=j,a.justify=z,a.fontWeight=T,q.textBaseline="bottom",q.fillStyle=A,a.drawText(q,M,s,u,n-2*s,r-2*u)),q.globalCompositeOperation="destination-out",q.stroke(),q.globalCompositeOperation="source-over",q.save(),q.clip(),q.strokeStyle=b,q.stroke(),q.restore(),G.needsUpdate=!0}(),()=>cancelAnimationFrame(e)}),[]);const[V,H]=i.useState([]),J=i.useMemo((()=>V.map((()=>i.createRef()))),[V]);i.useEffect((()=>{const e={width:m,height:f};e.width-=2*x,e.height-=2*x;let t=[...J];["column","row-reverse"].includes(k)&&t.reverse(),t.forEach(((t,n)=>{if(null===t.current)return;const[r,i]=function(e){let{currentChildren:t,index:n,flexDirection:r,alignItems:i,justifyContent:o,gap:a,size:l}=e;const c=t.reduce(((e,t)=>e+t.width),0),s=t.reduce(((e,t)=>e+t.height),0);let u=0,d=0,h=c,m="width",f="height";if(["column","column-reverse"].includes(r)&&(m="height",f="width",h=s),t.length>0&&!["space-between","space-around"].includes(o)&&(h+=a*(t.length-1)),"start"===o){u=.5*l[m]+.5*t[0][m]-l[m],"column"===r&&(u=.5*l[m]+.5*t[0][m]-h);for(let e=1;e<=n;e++)u+=.5*t[e-1][m]+.5*t[e][m]+a}if("center"===o){u=.5*t[0][m]-.5*h;for(let e=1;e<=n;e++)u+=.5*t[e-1][m]+.5*t[e][m]+a}if("end"===o){u=.5*l[m]+.5*t[0][m]-h,"column"===r&&(u=.5*l[m]+.5*t[0][m]-l[m]);for(let e=1;e<=n;e++)u+=.5*t[e-1][m]+.5*t[e][m]+a}if("space-between"===o)if(h>=l[m]){u=.5*l[m]+.5*t[0][m]-l[m];for(let e=1;e<=n;e++)u+=.5*t[e-1][m]+.5*t[e][m]}else{let e=Math.max(0,l[m]-h);0===t.length?e=0:e>0&&(e/=t.length-1),u=.5*l[m]+.5*t[0][m]-l[m];for(let r=1;r<=n;r++)u+=.5*t[r-1][m]+.5*t[r][m]+e}if("space-around"===o)if(h>=l[m]){u=.5*l[m]+.5*t[0][m]-l[m];for(let e=1;e<=n;e++)u+=.5*t[e-1][m]+.5*t[e][m]}else{let e=Math.max(0,l[m]-h);0===t.length?e=0:e>0&&(e/=t.length+1),u=.5*l[m]+.5*t[0][m]-l[m],u+=e;for(let r=1;r<=n;r++)u+=.5*t[r-1][m]+.5*t[r][m]+e}return"start"===i&&(["row","row-reverse"].includes(r)&&(d=.5*l[f]-.5*t[n][f]),["column","column-reverse"].includes(r)&&(d=-.5*l[f]+.5*t[n][f])),"end"===i&&(["row","row-reverse"].includes(r)&&(d=-.5*l[f]+.5*t[n][f]),["column","column-reverse"].includes(r)&&(d=.5*l[f]-.5*t[n][f])),["column","column-reverse"].includes(r)?[d,u]:[u,d]}({currentChildren:V,index:n,flexDirection:k,alignItems:y,justifyContent:S,gap:Z,size:e});t.current.position.x=r,t.current.position.y=i}))}),[J,V,m,f,k,y,S,x,Z]);const K=i.useMemo((()=>({currentChildren:V,parentUuid:L,addChild(e){H((t=>{const n=[...t],r=t.findIndex((t=>t.uuid===e.uuid));return-1===r?n.push({...e}):n[r]={...e},n.sort(((e,t)=>e.index-t.index))}))},removeChild(e){H((t=>t.filter((t=>t.uuid!==e))))}})),[V,L]);return i.useEffect((()=>{const e=B.current;null!==e&&e.traverse((e=>{e instanceof o.Mesh&&e.material instanceof o.Material&&(e.material.transparent=!0,e.material.opacity=g,e.material.needsUpdate=!0)}))}),[g]),i.createElement(c.Provider,{value:K},i.createElement("group",(0,r.Z)({ref:t},R,{visible:d}),i.createElement("mesh",{renderOrder:F+n},i.createElement("planeBufferGeometry",{args:[m,f]}),i.createElement("meshBasicMaterial",{ref:W,side:o.FrontSide,opacity:g,transparent:!0,depthWrite:!1,map:G})),i.createElement("group",{renderOrder:F+n+1,ref:B},i.Children.map(P,((e,t)=>i.isValidElement(e)?i.createElement("group",{key:t,ref:J[t]},i.cloneElement(e,{...e.props,childIndex:t})):e)))))}const d=i.forwardRef(u);d.displayName="layer";var h=d},261:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(294),i=n(228);function o(e){let{textContent:t,selected:n,onClick:o,fontSize:a,width:l,height:c,fontFamily:s="system-ui, sans-serif"}=e;const[u,d]=r.useState(!1);return r.createElement(i.Z,{width:l,height:c,backgroundColor:u||n?"white":"#111111",color:u||n?"#111111":"white",textContent:t,fontFamily:s,fontSize:a,textAlign:"center",verticalAlign:"middle",onPointerOver:()=>d(!0),onPointerOut:()=>d(!1),onClick:e=>{o(e),d(!1)}})}},291:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(294),i=n(369),o=n(659),a=n(846),l=n(989),c=n(581);function s(e){let{children:t}=e;const n=r.useMemo((()=>new i.d(6,6,6,10,10,10).translate(0,3,0)),[]);return r.createElement(o.de,{legacy:!0,flat:!0,linear:!0,gl:{alpha:!1}},r.createElement("color",{args:["#333333"],attach:"background"}),r.createElement("lineSegments",{geometry:n},r.createElement("lineBasicMaterial",{color:"#c0c0c0"})),r.createElement(l.c,{makeDefault:!0,position:[0,1.6,0]}),r.createElement(c.z,{makeDefault:!0,target:[0,1,-1.8]}),r.createElement("ambientLight",null),r.createElement(a.M,null),r.createElement("group",{position:[0,1,-1.88]},t))}},258:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(294),i=n(291),o=n(228),a=n(261);function l(){const[e,t]=r.useState("row"),[n,l]=r.useState("center"),[c,s]=r.useState("space-around");return r.createElement(i.Z,null,r.createElement(o.Z,{width:1.5,height:.2,flexDirection:"column",justifyContent:"space-between","position-y":.625},r.createElement(o.Z,{width:.8,height:.05,justifyContent:"space-around"},r.createElement(a.Z,{width:.1,height:.05,fontSize:.5,textContent:"row",selected:"row"===e,onClick:()=>t("row")}),r.createElement(a.Z,{width:.2,height:.05,fontSize:.5,textContent:"row-reverse",selected:"row-reverse"===e,onClick:()=>t("row-reverse")}),r.createElement(a.Z,{width:.15,height:.05,fontSize:.5,textContent:"column",selected:"column"===e,onClick:()=>t("column")}),r.createElement(a.Z,{width:.25,height:.05,fontSize:.5,textContent:"column-reverse",selected:"column-reverse"===e,onClick:()=>t("column-reverse")})),r.createElement(o.Z,{width:.85,height:.05,justifyContent:"space-around"},r.createElement(a.Z,{width:.25,height:.05,fontSize:.5,textContent:"alignItems: start",selected:"start"===n,onClick:()=>l("start")}),r.createElement(a.Z,{width:.25,height:.05,fontSize:.5,textContent:"alignItems: center",selected:"center"===n,onClick:()=>l("center")}),r.createElement(a.Z,{width:.25,height:.05,fontSize:.5,textContent:"alignItems: end",selected:"end"===n,onClick:()=>l("end")})),r.createElement(o.Z,{width:1.6,height:.05,justifyContent:"space-around"},r.createElement(a.Z,{width:.25,height:.05,fontSize:.5,textContent:"justifyContent: start",selected:"start"===c,onClick:()=>s("start")}),r.createElement(a.Z,{width:.35,height:.05,fontSize:.5,textContent:"justifyContent: space-around",selected:"space-around"===c,onClick:()=>s("space-around")}),r.createElement(a.Z,{width:.35,height:.05,fontSize:.5,textContent:"justifyContent: space-between",selected:"space-between"===c,onClick:()=>s("space-between")}),r.createElement(a.Z,{width:.25,height:.05,fontSize:.5,textContent:"justifyContent: center",selected:"center"===c,onClick:()=>s("center")}),r.createElement(a.Z,{width:.25,height:.05,fontSize:.5,textContent:"justifyContent: end",selected:"end"===c,onClick:()=>s("end")}))),r.createElement(o.Z,{width:1,height:1,borderWidth:.025,borderColor:"#222222",borderRadius:.05,backgroundColor:"#444444",flexDirection:e,alignItems:n,justifyContent:c},r.createElement(o.Z,{width:.25,height:.25,backgroundColor:"red"}),r.createElement(o.Z,{width:.25,height:.25,backgroundColor:"green"}),r.createElement(o.Z,{width:.25,height:.25,backgroundColor:"lightblue"})))}}}]);
//# sourceMappingURL=258.80ba30b9.chunk.js.map