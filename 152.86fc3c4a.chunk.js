"use strict";(self.webpackChunkreact_xr_ui=self.webpackChunkreact_xr_ui||[]).push([[152],{184:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(462),i=n(294),o=n(477),a=n(561),l=n.n(a);let s=-1;const c=new Map;function u(e){c.forEach((t=>t(e)))}u.add=(e,t)=>{c.set(e,t)},u.remove=e=>{c.has(e)&&c.delete(e)};const d=i.createContext({parentUuid:null,currentChildren:[],addChild(){},removeChild(){}}),m=[0,0];function h(e,t){let{zIndex:n=0,resolution:c=2048,visible:h=!0,autoLayout:f=!0,width:g=1,height:p=1,opacity:C=1,backgroundColor:w="transparent",backgroundImage:v,backgroundSize:y,backgroundPosition:x=m,borderRadius:b=0,borderWidth:E=0,borderColor:k="transparent",flexDirection:M="row",alignItems:S="center",justifyContent:I="center",gap:T=0,textContent:z,textAlign:A="left",justifyText:Z=!1,verticalAlign:R="top",color:F="white",fontFamily:U="system-ui, sans-serif",fontSize:N=.1,fontWeight:B="normal",childIndex:O,children:P,...j}=e;const D=i.useMemo((()=>++s),[]),W=i.useRef(null),_=i.useRef(null),L=i.useContext(d),G=i.useMemo((()=>o.MathUtils.generateUUID()),[]);i.useEffect((()=>{if(null!==L.parentUuid)return L.addChild({width:g,height:p,index:O,uuid:G}),()=>{L.removeChild(G)}}),[g,p,O,L.parentUuid]);const V=i.useMemo((()=>document.createElement("canvas").getContext("2d")),[]);i.useMemo((()=>{V.canvas.width=Math.max(1,Math.floor(g*c)),V.canvas.height=Math.max(1,Math.floor(p*c))}),[V.canvas,g,p,c]);const q=i.useMemo((()=>{const e=new o.CanvasTexture(V.canvas);return e.anisotropy=16,e}),[V.canvas,g,p]),H=i.useMemo((()=>({backgroundImage:new Image})),[]);i.useMemo((()=>{v&&(H.backgroundImage.src=v)}),[H.backgroundImage,v]);const J=i.useCallback((e=>{const t=V.canvas.width,n=V.canvas.height,r=Math.PI/180,i=(t+n)/2,{mapLinear:s}=o.MathUtils;V.globalCompositeOperation="source-over",V.clearRect(0,0,t,n);{const e=Array.isArray(b),o=b,a=b;let[l=0,s=0,c=0,u=0]=e?o:[a,a,a,a];l*=i,s*=i,c*=i,u*=i,V.beginPath(),V.moveTo(l,0),V.lineTo(t-s,0),V.arc(t-s,s,s,270*r,360*r),V.lineTo(t,n-c),V.arc(t-c,n-c,c,0,90*r),V.lineTo(u,n),V.arc(u,n-u,u,90*r,180*r),V.lineTo(0,l),V.arc(l,l,l,180*r,270*r),V.closePath()}V.globalAlpha=C,V.fillStyle=w,V.lineWidth=E*i*2,V.fill();const c=E*i,u=E*i;if(void 0!==v){const e=x[0],r=x[1],i=0,o=0,a=H.backgroundImage.width,l=H.backgroundImage.height,d=a/l,m=t/n;let h=a,f=l;switch(y){case"stretch":h=t,f=n;break;case"contain":h=t-2*c,f=n-2*u,d>m?f=h/d:h=f*d;break;case"cover":h=t-2*c,f=n-2*u,d<m?f=h/d:h=f*d}const g=c+s(e,0,1,0,t-2*c-h),p=u+s(r,0,1,0,n-2*u-f);V.save(),V.clip(),V.drawImage(H.backgroundImage,i,o,a,l,g,p,h,f),V.restore()}void 0!==z&&(l().font=U,l().fontSize=N*Math.min(t,n),l().align=A,l().vAlign=R,l().justify=Z,l().fontWeight=B,l().fontStyle=a.fontStyle,V.textBaseline="bottom",V.fillStyle=F,l().drawText(V,z,c,u,t-2*c,n-2*u)),V.globalCompositeOperation="destination-out",V.stroke(),V.globalCompositeOperation="source-over",V.save(),V.clip(),V.strokeStyle=k,V.stroke(),V.restore(),q.needsUpdate=!0}),[V,H,E,b,k,v,w,x,y,q,B,N,U,N,I,R,A,z,F]);i.useEffect((()=>(u.add(G,J),()=>u.remove(G))),[G,J]);const[K,Q]=i.useState([]),X=i.useMemo((()=>K.map((()=>i.createRef()))),[K]);i.useEffect((()=>{const e={width:g,height:p};e.width-=2*E,e.height-=2*E;let t=[...X];["column","row-reverse"].includes(M)&&t.reverse(),t.forEach(((t,n)=>{const[r,i]=function(e){let{currentChildren:t,index:n,flexDirection:r,alignItems:i,justifyContent:o,gap:a,size:l}=e;const s=t.reduce(((e,t)=>e+t.width),0),c=t.reduce(((e,t)=>e+t.height),0);let u=0,d=0,m=s,h="width",f="height";if(["column","column-reverse"].includes(r)&&(h="height",f="width",m=c),t.length>0&&!["space-between","space-around"].includes(o)&&(m+=a*(t.length-1)),"start"===o){u=.5*l[h]+.5*t[0][h]-l[h],"column"===r&&(u=.5*l[h]+.5*t[0][h]-m);for(let e=1;e<=n;e++)u+=.5*t[e-1][h]+.5*t[e][h]+a}if("center"===o){u=.5*t[0][h]-.5*m;for(let e=1;e<=n;e++)u+=.5*t[e-1][h]+.5*t[e][h]+a}if("end"===o){u=.5*l[h]+.5*t[0][h]-m,"column"===r&&(u=.5*l[h]+.5*t[0][h]-l[h]);for(let e=1;e<=n;e++)u+=.5*t[e-1][h]+.5*t[e][h]+a}if("space-between"===o)if(m>=l[h]){u=.5*l[h]+.5*t[0][h]-l[h];for(let e=1;e<=n;e++)u+=.5*t[e-1][h]+.5*t[e][h]}else{let e=Math.max(0,l[h]-m);0===t.length?e=0:e>0&&(e/=t.length-1),u=.5*l[h]+.5*t[0][h]-l[h];for(let r=1;r<=n;r++)u+=.5*t[r-1][h]+.5*t[r][h]+e}if("space-around"===o)if(m>=l[h]){u=.5*l[h]+.5*t[0][h]-l[h];for(let e=1;e<=n;e++)u+=.5*t[e-1][h]+.5*t[e][h]}else{let e=Math.max(0,l[h]-m);0===t.length?e=0:e>0&&(e/=t.length+1),u=.5*l[h]+.5*t[0][h]-l[h],u+=e;for(let r=1;r<=n;r++)u+=.5*t[r-1][h]+.5*t[r][h]+e}return"start"===i&&(["row","row-reverse"].includes(r)&&(d=.5*l[f]-.5*t[n][f]),["column","column-reverse"].includes(r)&&(d=-.5*l[f]+.5*t[n][f])),"end"===i&&(["row","row-reverse"].includes(r)&&(d=-.5*l[f]+.5*t[n][f]),["column","column-reverse"].includes(r)&&(d=.5*l[f]-.5*t[n][f])),["column","column-reverse"].includes(r)?[d,u]:[u,d]}({currentChildren:K,index:n,flexDirection:M,alignItems:S,justifyContent:I,gap:T,size:e});t.current.position.x=r,t.current.position.y=i}))}),[X,K,g,p,M,S,I,E,T]);const Y=i.useMemo((()=>({currentChildren:K,parentUuid:G,addChild(e){Q((t=>{const n=[...t],r=t.findIndex((t=>t.uuid===e.uuid));return-1===r?n.push({...e}):n[r]={...e},n.sort(((e,t)=>e.index-t.index))}))},removeChild(e){Q((t=>t.filter((t=>t.uuid!==e))))}})),[K,G]);return i.useEffect((()=>{const e=_.current;null!==e&&e.traverse((e=>{e instanceof o.Mesh&&e.material instanceof o.Material&&(e.material.transparent=!0,e.material.opacity=C,e.material.needsUpdate=!0)}))}),[C]),i.createElement(d.Provider,{value:Y},i.createElement("group",(0,r.Z)({ref:t},j,{visible:h}),i.createElement("mesh",{renderOrder:D+n},i.createElement("planeBufferGeometry",{args:[g,p]}),i.createElement("meshBasicMaterial",{ref:W,side:o.FrontSide,opacity:C,transparent:!0,depthWrite:!1,map:q})),i.createElement("group",{renderOrder:D+n+1,ref:_},i.Children.map(P,((e,t)=>i.isValidElement(e)?i.createElement("group",{key:t,ref:X[t]},i.cloneElement(e,{...e.props,childIndex:t})):e)))))}const f=i.forwardRef(h);f.displayName="layer";var g=f},261:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(294),i=n(184);function o(e){let{textContent:t,selected:n,onClick:o,fontSize:a,width:l,height:s,fontFamily:c="system-ui, sans-serif"}=e;const[u,d]=r.useState(!1);return r.createElement(i.Z,{width:l,height:s,backgroundColor:u||n?"white":"#111111",color:u||n?"#111111":"white",textContent:t,fontFamily:c,fontSize:a,textAlign:"center",verticalAlign:"middle",onPointerOver:()=>d(!0),onPointerOut:()=>d(!1),onClick:e=>{o(e),d(!1)}})}},291:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(294),i=n(369),o=n(659),a=n(846),l=n(989),s=n(581);function c(e){let{children:t}=e;const n=r.useMemo((()=>new i.d(6,6,6,10,10,10).translate(0,3,0)),[]);return r.createElement(o.de,{legacy:!0,flat:!0,linear:!0,gl:{alpha:!1}},r.createElement("color",{args:["#333333"],attach:"background"}),r.createElement("lineSegments",{geometry:n},r.createElement("lineBasicMaterial",{color:"#c0c0c0"})),r.createElement(l.c,{makeDefault:!0,position:[0,1.6,0]}),r.createElement(s.z,{makeDefault:!0,target:[0,1,-1.8]}),r.createElement("ambientLight",null),r.createElement(a.M,null),r.createElement("group",{position:[0,1,-1.88]},t))}},152:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(294),i=n(291),o=n(184),a=n(261);function l(){const[e,t]=r.useState("system-ui");return r.createElement(i.Z,null,r.createElement(o.Z,{width:1.3,height:.1,justifyContent:"space-around","position-y":.6},r.createElement(a.Z,{textContent:"system-ui",fontFamily:"system-ui",selected:"system-ui"===e,onClick:()=>t("system-ui"),fontSize:.3,width:.2,height:.1}),r.createElement(a.Z,{textContent:"Arial",fontFamily:"Arial, sans-serif",selected:"Arial"===e,onClick:()=>t("Arial, sans-serif"),fontSize:.3,width:.2,height:.1}),r.createElement(a.Z,{textContent:"Times New Roman",fontFamily:"Times New Roman, serif",selected:"Times New Roman, serif"===e,onClick:()=>t("Times New Roman, serif"),fontSize:.3,width:.3,height:.1}),r.createElement(a.Z,{textContent:"Courier New",fontFamily:"Courier New, monospace",selected:"Courier New, monospace"===e,onClick:()=>t("Courier New, monospace"),fontSize:.3,width:.25,height:.1}),r.createElement(a.Z,{textContent:"Brush Script MT",fontFamily:"Brush Script MT, cursive",selected:"Brush Script MT, cursive"===e,onClick:()=>t("Brush Script MT, cursive"),fontSize:.3,width:.25,height:.1})),r.createElement(o.Z,{width:1,height:1,borderWidth:.025,borderColor:"#222222",borderRadius:.05,backgroundColor:"#444444",fontFamily:e,textContent:"This is a test with some long text...",textAlign:"center",verticalAlign:"middle",color:"crimson"}))}}}]);
//# sourceMappingURL=152.86fc3c4a.chunk.js.map