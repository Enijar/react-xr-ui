"use strict";(self.webpackChunkreact_xr_ui=self.webpackChunkreact_xr_ui||[]).push([[527],{180:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(294),a=n(369),o=n(977),i=n(638),l=n(521),c=n(989),s=n(581),u=n(254);function d(e){let{children:t}=e;return r.createElement(r.Fragment,null,t)}function m(e){let{children:t}=e;const n=r.useMemo((()=>new a.d(6,6,6,10,10,10).translate(0,3,0)),[]);return r.createElement(r.Fragment,null,r.createElement(o.Xz,{legacy:!0,flat:!0,linear:!0,gl:{alpha:!1}},r.createElement(i.XR,null,r.createElement(u.Z,null,r.createElement("color",{args:["#333333"],attach:"background"}),r.createElement("lineSegments",{geometry:n},r.createElement("lineBasicMaterial",{color:"#c0c0c0"})),r.createElement(c.c,{makeDefault:!0,position:[0,1.6,0]}),r.createElement(s.z,{makeDefault:!0,target:[0,1,-1.8]}),r.createElement("ambientLight",null),r.createElement(l.z,null),r.createElement(d,null,r.createElement("group",{position:[0,1,-1.88]},t))))),r.createElement(i.vZ,{style:{position:"absolute",bottom:"1em",color:"black",left:"50%",translate:"-50%",padding:"0.5em 1em",cursor:"pointer"},mode:"VR",sessionInit:{optionalFeatures:["local-floor","bounded-floor","hand-tracking","layers"]}},"Enter Immersive VR"))}},518:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(294);function a(e){let{pathname:t}=e;return r.createElement("a",{target:"_blank",rel:"nofollow",href:"https://github.com/Enijar/react-xr-ui/tree/main/examples/examples/".concat(t,".tsx"),style:{display:"flex",gap:"1ch",position:"absolute",insetInlineEnd:"1em",insetBlockStart:"1em",blockSize:"2em",alignItems:"center",textDecoration:"none",backgroundColor:"#111111",paddingInline:"1em",paddingBlock:"0.5em",borderRadius:"0.25em",cursor:"pointer"}},r.createElement("span",null,"View Code"),r.createElement("svg",{height:"157.06",viewBox:"0 0 161.03 157.06",width:"161.03",xmlns:"http://www.w3.org/2000/svg",style:{inlineSize:"auto",blockSize:"100%"}},r.createElement("g",{fill:"currentColor"},r.createElement("path",{d:"m80.52 0c-44.47 0-80.52 36.05-80.52 80.52 0 35.57 23.07 65.76 55.06 76.4 4.02.75 5.5-1.75 5.5-3.87 0-1.92-.07-8.26-.11-14.99-22.4 4.87-27.13-9.5-27.13-9.5-3.66-9.31-8.94-11.78-8.94-11.78-7.31-5 .55-4.89.55-4.89 8.09.57 12.34 8.3 12.34 8.3 7.18 12.31 18.84 8.75 23.43 6.69.72-5.2 2.81-8.76 5.11-10.77-17.88-2.04-36.68-8.94-36.68-39.79 0-8.79 3.15-15.97 8.3-21.61-.84-2.03-3.59-10.22.78-21.31 0 0 6.76-2.16 22.15 8.25 6.42-1.78 13.31-2.68 20.15-2.71 6.84.03 13.74.93 20.17 2.71 15.37-10.42 22.12-8.25 22.12-8.25 4.38 11.09 1.63 19.28.79 21.31 5.16 5.64 8.29 12.82 8.29 21.61 0 30.93-18.84 37.73-36.77 39.73 2.89 2.5 5.46 7.4 5.46 14.91 0 10.77-.09 19.44-.09 22.1 0 2.14 1.45 4.65 5.53 3.86 31.97-10.66 55.02-40.83 55.02-76.39 0-44.48-36.05-80.53-80.51-80.53",fillRule:"evenodd"}),r.createElement("path",{d:"m30.5 115.61c-.18.4-.81.52-1.38.25-.58-.26-.91-.81-.72-1.21.17-.41.8-.53 1.39-.25.59.26.92.81.72 1.22"}),r.createElement("path",{d:"m33.76 119.24c-.38.36-1.13.19-1.64-.37-.53-.56-.63-1.31-.24-1.67.4-.35 1.12-.19 1.65.37.53.57.63 1.31.23 1.67z"}),r.createElement("path",{d:"m36.93 123.88c-.49.34-1.3.02-1.8-.69-.49-.72-.49-1.57.01-1.92.5-.34 1.29-.03 1.8.68.49.73.49 1.59-.01 1.94"}),r.createElement("path",{d:"m41.28 128.36c-.44.49-1.38.36-2.07-.31-.7-.65-.9-1.57-.46-2.06.45-.49 1.39-.35 2.09.31.7.65.91 1.58.44 2.06z"}),r.createElement("path",{d:"m47.28 130.96c-.19.63-1.1.92-2.01.65-.91-.28-1.51-1.01-1.32-1.65.19-.63 1.1-.93 2.02-.65.91.27 1.51 1.01 1.32 1.65"}),r.createElement("path",{d:"m53.87 131.44c.02.66-.75 1.21-1.71 1.23s-1.74-.52-1.75-1.17c0-.67.76-1.22 1.72-1.23.96-.02 1.74.51 1.74 1.17z"}),r.createElement("path",{d:"m60 130.4c.11.65-.55 1.31-1.5 1.49-.93.17-1.8-.23-1.92-.87-.12-.66.56-1.33 1.49-1.5.95-.17 1.8.22 1.93.88z"}))))}},634:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(462),a=n(294),o=n(477),i=n(561),l=n.n(i),c=n(738),s=n(254);const u=a.createContext({parentUuid:null,parentSize:{width:1,height:1},currentChildren:[],renderOrder:0,addChild(){},removeChild(){}}),d=[0,0],m=new Map;function h(e,t){let{zIndex:n=0,resolution:i,visible:h=!0,autoLayout:g=!0,width:p,height:f,opacity:v=1,backgroundColor:w="transparent",backgroundImage:y,backgroundSize:E,backgroundPosition:b=d,padding:x=0,borderRadius:M=0,borderWidth:k=0,borderColor:C="transparent",flexDirection:I="row",alignItems:R="center",justifyContent:z="center",gap:P=0,textContent:S,textAlign:U="left",justifyText:O=!1,verticalAlign:F="top",color:A="white",fontFamily:D,fontSize:L=.1,fontWeight:T="normal",lineHeight:B=null,childIndex:Z,children:j,onPointerMove:W,onPointerOver:_,onPointerOut:N,onPointerDown:V,onPointerUp:H,imageRendering:q="crisp-edges",imageSmoothingEnabled:X=!0,textRendering:G="auto",dpr:J,...K}=e;const Q=a.useContext(s.q),Y=a.useMemo((()=>null!=i?i:Q.layerResolution),[i,Q.layerResolution]),$=a.useMemo((()=>null!=D?D:Q.fontFamily),[D,Q.fontFamily]),ee=a.useRef(null),te=a.useRef(null),ne=a.useRef(null),re=a.useRef(null);a.useEffect((()=>{const e=ne.current;null!==e&&(e.blending=o.CustomBlending)}),[]),a.useImperativeHandle(t,(()=>({group:ee.current,mesh:te.current,material:ne.current})));const ae=a.useContext(u),oe=a.useMemo((()=>{const e={width:1,height:1};if("string"==typeof p){const t=parseFloat(p);null===ae.parentUuid?e.width=t/100:isNaN(t)?e.width=1:e.width=ae.parentSize.width*(t/100)}else e.width=null!=p?p:1;if("string"==typeof f){const t=parseFloat(f);null===ae.parentUuid?e.height=t/100:isNaN(t)?e.height=1:e.height=ae.parentSize.height*(t/100)}else e.height=null!=f?f:1;return e}),[p,f,ae.parentUuid,ae.parentSize]),ie=a.useMemo((()=>o.MathUtils.generateUUID()),[]);a.useEffect((()=>{if(null!==ae.parentUuid)return ae.addChild({width:oe.width,height:oe.height,index:Z,autoLayout:g,uuid:ie}),()=>{ae.removeChild(ie)}}),[oe,Z,g,ae.parentUuid]);const le=a.useRef({onPointerMove:W,onPointerOver:_,onPointerOut:N,onPointerDown:V,onPointerUp:H});a.useMemo((()=>{le.current.onPointerMove=W,le.current.onPointerOver=_,le.current.onPointerOut=N,le.current.onPointerDown=V,le.current.onPointerUp=H}),[W,_,N,V,H]);const ce=a.useMemo((()=>document.createElement("canvas").getContext("2d")),[]);a.useEffect((()=>{ce.imageSmoothingEnabled=X,ce.canvas.style.imageRendering=q}),[ce,q,X]),a.useEffect((()=>{ce.textRendering=G,ce.canvas.style.textRendering=G}),[ce,G]),a.useMemo((()=>{var e;const t=null!==(e=null!=J?J:window.devicePixelRatio)&&void 0!==e?e:1;ce.scale(t,t)}),[ce,J]),a.useMemo((()=>{ce.canvas.width=Math.max(1,Math.floor(oe.width*Y)),ce.canvas.height=Math.max(1,Math.floor(oe.height*Y))}),[ce.canvas,oe,Y]);const se=a.useMemo((()=>{const e=new o.CanvasTexture(ce.canvas);return e.anisotropy=16,e.premultiplyAlpha=!0,e}),[ce.canvas,oe]),ue=a.useMemo((()=>({backgroundImage:new Image})),[]);a.useMemo((()=>{if(y){if(!m.has(y)){const e=new Image;e.src=y,m.set(y,e)}ue.backgroundImage=m.get(y)}}),[ue.backgroundImage,y]),(0,c.z)((()=>{const e=ce.canvas.width,t=ce.canvas.height,n=Math.PI/180,r=Math.min(e,t),{mapLinear:a}=o.MathUtils;ce.globalCompositeOperation="source-over",ce.clearRect(0,0,e,t);{const a=Array.isArray(M),o=M,i=M;let[l=0,c=0,s=0,u=0]=a?o:[i,i,i,i];l*=r,c*=r,s*=r,u*=r,ce.beginPath(),ce.moveTo(l,0),ce.lineTo(e-c,0),ce.arc(e-c,c,c,270*n,360*n),ce.lineTo(e,t-s),ce.arc(e-s,t-s,s,0,90*n),ce.lineTo(u,t),ce.arc(u,t-u,u,90*n,180*n),ce.lineTo(0,l),ce.arc(l,l,l,180*n,270*n),ce.closePath()}ce.globalAlpha=v,ce.fillStyle=w,ce.lineWidth=k*r*2,ce.fill();const i=k*r,c=k*r;if(void 0!==y){const n=b[0],r=b[1],o=0,l=0,s=Math.max(1,ue.backgroundImage.width),u=Math.max(1,ue.backgroundImage.height),d=s/u,m=e/t;let h=s,g=u;switch(E){case"stretch":h=e,g=t;break;case"contain":h=e-2*i,g=t-2*c,d>=m?g=h/d:h=g*d;break;case"cover":h=e-2*i,g=t-2*c,d<=m?g=h/d:h=g*d}const p=i+a(n,0,1,0,e-2*i-h),f=c+a(r,0,1,0,t-2*c-g);ce.save(),ce.clip(),ce.drawImage(ue.backgroundImage,o,l,s,u,p,f,h,g),ce.restore()}void 0!==S&&(l().font=$,l().fontSize=L*Math.min(e,t),l().lineHeight=B*l().fontSize,l().align=U,l().vAlign=F,l().justify=O,l().fontWeight=T,ce.textBaseline="bottom",ce.fillStyle=A,l().drawText(ce,S,i,c,e-2*i,t-2*c)),ce.globalCompositeOperation="destination-out",ce.stroke(),ce.globalCompositeOperation="source-over",ce.save(),ce.clip(),ce.strokeStyle=C,ce.stroke(),ce.restore(),se.needsUpdate=!0}));const[de,me]=a.useState([]),he=a.useMemo((()=>de.map((()=>a.createRef()))),[de]);a.useEffect((()=>{var e,t,n,r;const a={...oe},o=Math.min(a.width,a.height),i=Array.isArray(x)?(null!==(e=x[1])&&void 0!==e?e:0)+(null!==(t=x[3])&&void 0!==t?t:0):x,l=Array.isArray(x)?(null!==(n=x[0])&&void 0!==n?n:0)+(null!==(r=x[2])&&void 0!==r?r:0):x;a.width-=o*k*2,a.height-=o*k*2,a.width-=o*i*2,a.height-=o*l*2,he.forEach(((e,t)=>{const n=e.current;if(null===n)return;let[r,o]=function(e){let{currentChildren:t,index:n,flexDirection:r,alignItems:a,justifyContent:o,gap:i,size:l}=e;const c=t.reduce(((e,t)=>t.autoLayout?e+t.width:e),0),s=t.reduce(((e,t)=>t.autoLayout?e+t.height:e),0);let u=0,d=0,m=c,h="width",g="height";["column","column-reverse"].includes(r)&&(h="height",g="width",m=s),t.length>0&&!["space-between","space-around"].includes(o)&&(m+=i*(t.length-1)),["space-between","space-around"].includes(o)&&(i=0);const p=["row-reverse","column-reverse"].includes(r);let f=1;switch(["column","column-reverse"].includes(r)&&(f=-1),o){case"start":u=(.5*(l[h]-t[n][h])-(l[h]-m))*f;break;case"end":u=(.5*l[h]-.5*t[n][h])*f;break;case"center":u=(.5*m-.5*t[n][h])*f;break;case"space-between":case"space-around":t.length>1&&(u=(.5*l[h]-.5*t[n][h])*f)}let v=0;if(t.length>1&&("space-between"===o&&(v=Math.max(0,l[h]-m)/Math.max(1,t.length-1)),"space-around"===o&&(v=Math.max(0,l[h]-m)/Math.max(1,t.length+1))),"space-around"===o&&(u-=v*f),p)for(let e=1;e<=n;e++){const n=t[e-1];n.autoLayout&&(u-=(n[h]+v+i)*f)}else for(let e=t.length-2;e>=n;e--)t[e+1].autoLayout&&(u-=(t[e+1][h]+v+i)*f);switch(a){case"start":d=(.5*l[g]-.5*t[n][g])*f;break;case"end":d=(.5*t[n][g]-.5*l[g])*f;break;case"center":d=0}return["column","column-reverse"].includes(r)?[d,u]:[u,d]}({currentChildren:de,index:t,flexDirection:I,alignItems:R,justifyContent:z,gap:P,size:a});de[t].autoLayout||(r=0,o=0),n.position.x=r,n.position.y=o}))}),[he,de,oe,I,R,z,k,x,P]);const ge=a.useMemo((()=>null===ae.parentUuid?n:ae.renderOrder+n+1),[ae.parentUuid,ae.renderOrder,n]),pe=a.useMemo((()=>({currentChildren:de,parentSize:oe,parentUuid:ie,renderOrder:ge,addChild(e){me((t=>{const n=[...t],r=t.findIndex((t=>t.uuid===e.uuid));return-1===r?n.push({...e}):n[r]={...e},n.sort(((e,t)=>e.index-t.index))}))},removeChild(e){me((t=>t.filter((t=>t.uuid!==e))))}})),[de,ie,oe,ge]);return a.useEffect((()=>{const e=re.current;null!==e&&e.traverse((e=>{e instanceof o.Mesh&&e.material instanceof o.Material&&(e.material.transparent=!0,e.material.opacity=v,e.material.needsUpdate=!0)}))}),[v]),a.useEffect((()=>()=>{ce.canvas.width=0,ce.canvas.height=0}),[ce]),a.createElement(u.Provider,{value:pe},a.createElement("group",(0,r.Z)({ref:ee},K,{visible:h,name:"react-xr-ui-layer"}),a.createElement("mesh",{ref:te,renderOrder:ge+n},a.createElement("planeGeometry",{args:[oe.width,oe.height]}),a.createElement("meshBasicMaterial",{ref:ne,side:o.FrontSide,opacity:v,transparent:!0,depthWrite:!1,map:se})),a.createElement("group",{renderOrder:ge+n+1,ref:re},a.Children.map(j,((e,t)=>a.isValidElement(e)?a.createElement("group",{key:t,ref:he[t]},a.cloneElement(e,{...e.props,childIndex:t})):e)))))}var g=a.forwardRef(h)},254:function(e,t,n){n.d(t,{Z:function(){return o},q:function(){return a}});var r=n(294);const a=r.createContext({layerResolution:1024,fontFamily:"system-ui, sans-serif"});function o(e){let{children:t,layerResolution:n=1024,fontFamily:o}=e;return r.createElement(a.Provider,{value:{layerResolution:n,fontFamily:o}},t)}}}]);
//# sourceMappingURL=527.c29f4c0e.chunk.js.map