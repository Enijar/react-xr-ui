"use strict";(self.webpackChunk_app_client=self.webpackChunk_app_client||[]).push([[657],{291:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(294),i=n(369),a=n(977),o=n(989),l=n(581);function c(e){let{children:t}=e;const n=r.useMemo((()=>new i.d(6,6,6,10,10,10).translate(0,3,0)),[]);return r.createElement(a.Xz,{legacy:!0,flat:!0,linear:!0},r.createElement(o.c,{makeDefault:!0,position:[0,1.6,0]}),r.createElement(l.z,{makeDefault:!0,target:[0,1,-1.8]}),r.createElement("ambientLight",null),r.createElement("lineSegments",{geometry:n},r.createElement("lineBasicMaterial",{color:"#c0c0c0"})),r.createElement("group",{position:[0,1,-1.88]},t))}},657:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(294),i=n(291),a=n(413);function o(e){let{size:t,selected:n,onClick:i}=e;const[o,l]=r.useState(!1);return r.createElement(a.Z,{width:.1,height:.1,backgroundColor:o||n?"white":"#111111",color:o||n?"#111111":"white",textContent:t,fontFamily:"Arial",fontSize:.5,textAlign:"center",verticalAlign:"middle",onPointerOver:()=>l(!0),onPointerOut:()=>l(!1),onClick:e=>{i(e),l(!1)}})}function l(){const e=r.useMemo((()=>({xl:.75,m:.5,s:.25})),[]),[t,n]=r.useState("m");return r.createElement(i.Z,null,r.createElement(a.Z,{width:1,height:.1,gap:.05,"position-y":.5},r.createElement(o,{size:"XL",selected:"xl"===t,onClick:()=>n("xl")}),r.createElement(o,{size:"M",selected:"m"===t,onClick:()=>n("m")}),r.createElement(o,{size:"S",selected:"s"===t,onClick:()=>n("s")})),r.createElement(a.Z,{width:e[t],height:e[t],backgroundColor:"crimson"}))}},413:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(462),i=n(294),a=n(477),o=n(867),l=n(561),c=n.n(l);let s=-1;const u=i.createContext({parentUuid:null,currentChildren:[],addChild(){},removeChild(){}}),d=[0,0];function m(e,t){let{zIndex:n=0,resolution:l=2048,visible:m=!0,autoLayout:h=!0,width:f=1,height:g=1,opacity:p=1,backgroundColor:v="transparent",backgroundImage:w,backgroundSize:C,backgroundPosition:x=d,borderRadius:b=0,borderWidth:k=0,borderColor:E="transparent",flexDirection:y="row",alignItems:M="center",justifyContent:I="center",gap:z=0,textContent:S,textAlign:A="left",justifyText:U=!1,verticalAlign:T="top",color:O="white",fontFamily:P="system-ui, sans-serif",fontSize:Z=.1,fontWeight:D="normal",childIndex:R,children:j,...W}=e;const L=i.useMemo((()=>++s),[]),_=(0,o.w)((e=>e.gl)),B=i.useRef(null),F=i.useRef(null),X=i.useContext(u),G=i.useMemo((()=>a.MathUtils.generateUUID()),[]);i.useEffect((()=>{if(null!==X.parentUuid)return X.addChild({width:f,height:g,index:R,uuid:G}),()=>{X.removeChild(G)}}),[f,g,R,X.parentUuid]);const H=i.useMemo((()=>document.createElement("canvas").getContext("2d")),[]);i.useMemo((()=>{H.canvas.width=Math.max(1,Math.floor(f*l)),H.canvas.height=Math.max(1,Math.floor(g*l))}),[H.canvas,f,g,l]);const N=i.useMemo((()=>{const e=new a.CanvasTexture(H.canvas);return e.anisotropy=_.capabilities.getMaxAnisotropy(),e}),[H.canvas,_.capabilities,f,g]),V=i.useMemo((()=>({backgroundImage:new Image})),[]);i.useMemo((()=>{V.backgroundImage.src=w}),[V.backgroundImage,w]),(0,o.x)((()=>{const e=H.canvas.width,t=H.canvas.height,n=Math.PI/180,r=(e+t)/2,{mapLinear:i}=a.MathUtils;H.globalCompositeOperation="source-over",H.clearRect(0,0,e,t);{const i=Array.isArray(b),a=b,o=b;let[l=0,c=0,s=0,u=0]=i?a:[o,o,o,o];l*=r,c*=r,s*=r,u*=r,H.beginPath(),H.moveTo(l,0),H.lineTo(e-c,0),H.arc(e-c,c,c,270*n,360*n),H.lineTo(e,t-s),H.arc(e-s,t-s,s,0,90*n),H.lineTo(u,t),H.arc(u,t-u,u,90*n,180*n),H.lineTo(0,l),H.arc(l,l,l,180*n,270*n),H.closePath()}H.globalAlpha=p,H.fillStyle=v,H.lineWidth=k*r*2,H.fill();const o=k*r,l=k*r;if(void 0!==w){const n=x[0],r=x[1],a=0,c=0,s=V.backgroundImage.width,u=V.backgroundImage.height,d=s/u,m=e/t;let h=s,f=u;switch(C){case"stretch":h=e,f=t;break;case"contain":h=e-2*o,f=t-2*l,d>m?f=h/d:h=f*d;break;case"cover":h=e-2*o,f=t-2*l,d<m?f=h/d:h=f*d}const g=o+i(n,0,1,0,e-2*o-h),p=l+i(r,0,1,0,t-2*l-f);H.save(),H.clip(),H.drawImage(V.backgroundImage,a,c,s,u,g,p,h,f),H.restore()}void 0!==S&&(c().font=P,c().fontSize=Z*e,c().lineHeight=null,c().align=A,c().vAlign=T,c().justify=U,c().fontWeight=D,H.fillStyle=O,c().drawText(H,S,o,l,e-2*o,t-2*l)),H.globalCompositeOperation="destination-out",H.stroke(),H.globalCompositeOperation="source-over",H.save(),H.clip(),H.strokeStyle=E,H.stroke(),H.restore(),N.needsUpdate=!0}));const[q,J]=i.useState([]),K=i.useMemo((()=>q.map((()=>i.createRef()))),[q]);i.useEffect((()=>{const e={width:f,height:g};e.width-=2*k,e.height-=2*k;let t=[...K];["column","row-reverse"].includes(y)&&t.reverse(),t.forEach(((t,n)=>{const[r,i]=function(e){let{currentChildren:t,index:n,flexDirection:r,alignItems:i,justifyContent:a,gap:o,size:l}=e;const c=t.reduce(((e,t)=>e+t.width),0),s=t.reduce(((e,t)=>e+t.height),0);let u=0,d=0,m=c,h="width",f="height";if(["column","column-reverse"].includes(r)&&(h="height",f="width",m=s),t.length>0&&!["space-between","space-around"].includes(a)&&(m+=o*(t.length-1)),"start"===a){u=.5*l[h]+.5*t[0][h]-l[h],"column"===r&&(u=.5*l[h]+.5*t[0][h]-m);for(let e=1;e<=n;e++)u+=.5*t[e-1][h]+.5*t[e][h]+o}if("center"===a){u=.5*t[0][h]-.5*m;for(let e=1;e<=n;e++)u+=.5*t[e-1][h]+.5*t[e][h]+o}if("end"===a){u=.5*l[h]+.5*t[0][h]-m,"column"===r&&(u=.5*l[h]+.5*t[0][h]-l[h]);for(let e=1;e<=n;e++)u+=.5*t[e-1][h]+.5*t[e][h]+o}if("space-between"===a)if(m>=l[h]){u=.5*l[h]+.5*t[0][h]-l[h];for(let e=1;e<=n;e++)u+=.5*t[e-1][h]+.5*t[e][h]}else{let e=Math.max(0,l[h]-m);0===t.length?e=0:e>0&&(e/=t.length-1),u=.5*l[h]+.5*t[0][h]-l[h];for(let r=1;r<=n;r++)u+=.5*t[r-1][h]+.5*t[r][h]+e}if("space-around"===a)if(m>=l[h]){u=.5*l[h]+.5*t[0][h]-l[h];for(let e=1;e<=n;e++)u+=.5*t[e-1][h]+.5*t[e][h]}else{let e=Math.max(0,l[h]-m);0===t.length?e=0:e>0&&(e/=t.length+1),u=.5*l[h]+.5*t[0][h]-l[h],u+=e;for(let r=1;r<=n;r++)u+=.5*t[r-1][h]+.5*t[r][h]+e}return"start"===i&&(["row","row-reverse"].includes(r)&&(d=.5*l[f]-.5*t[n][f]),["column","column-reverse"].includes(r)&&(d=-.5*l[f]+.5*t[n][f])),"end"===i&&(["row","row-reverse"].includes(r)&&(d=-.5*l[f]+.5*t[n][f]),["column","column-reverse"].includes(r)&&(d=.5*l[f]-.5*t[n][f])),["column","column-reverse"].includes(r)?[d,u]:[u,d]}({currentChildren:q,index:n,flexDirection:y,alignItems:M,justifyContent:I,gap:z,size:e});t.current.position.x=r,t.current.position.y=i}))}),[K,q,f,g,y,M,I,k,z]);const Q=i.useMemo((()=>({currentChildren:q,parentUuid:G,addChild(e){J((t=>{const n=[...t],r=t.findIndex((t=>t.uuid===e.uuid));return-1===r?n.push({...e}):n[r]={...e},n.sort(((e,t)=>e.index-t.index))}))},removeChild(e){J((t=>t.filter((t=>t.uuid!==e))))}})),[q,G]);return i.useEffect((()=>{const e=F.current;null!==e&&e.traverse((e=>{e instanceof a.Mesh&&e.material instanceof a.Material&&(e.material.transparent=!0,e.material.opacity=p,e.material.needsUpdate=!0)}))}),[p]),i.createElement(u.Provider,{value:Q},i.createElement("group",(0,r.Z)({ref:t},W,{visible:m}),i.createElement("mesh",{renderOrder:L+n},i.createElement("planeBufferGeometry",{args:[f,g]}),i.createElement("meshBasicMaterial",{ref:B,side:a.FrontSide,opacity:p,transparent:!0,depthWrite:!1,map:N})),i.createElement("group",{renderOrder:L+n+1,ref:F},i.Children.map(j,((e,t)=>i.isValidElement(e)?i.createElement("group",{key:t,ref:K[t]},i.cloneElement(e,{...e.props,childIndex:t})):e)))))}const h=i.forwardRef(m);h.displayName="layer";var f=h}}]);
//# sourceMappingURL=657.8740de8c.chunk.js.map