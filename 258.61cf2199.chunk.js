"use strict";(self.webpackChunkreact_xr_ui=self.webpackChunkreact_xr_ui||[]).push([[258],{184:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(462),o=n(294),i=n(477),a=n(561),l=n.n(a);let c=-1;const s=new Map;function d(e){s.forEach((t=>t(e)))}d.add=(e,t)=>{s.set(e,t)},d.remove=e=>{s.has(e)&&s.delete(e)};const u=o.createContext({parentUuid:null,currentChildren:[],addChild(){},removeChild(){}}),h=[0,0];function m(e,t){let{zIndex:n=0,resolution:s=2048,visible:m=!0,autoLayout:f=!0,width:g=1,height:C=1,opacity:p=1,backgroundColor:w="transparent",backgroundImage:v,backgroundSize:E,backgroundPosition:x=h,borderRadius:b=0,borderWidth:k=0,borderColor:y="transparent",flexDirection:S="row",alignItems:M="center",justifyContent:Z="center",gap:I=0,textContent:z,textAlign:j="left",justifyText:U=!1,verticalAlign:A="top",color:D="white",fontFamily:T="system-ui, sans-serif",fontSize:O=.1,fontWeight:P="normal",childIndex:R,children:W,...B}=e;const F=o.useMemo((()=>++c),[]),_=o.useRef(null),L=o.useRef(null),G=o.useContext(u),N=o.useMemo((()=>i.MathUtils.generateUUID()),[]);o.useEffect((()=>{if(null!==G.parentUuid)return G.addChild({width:g,height:C,index:R,uuid:N}),()=>{G.removeChild(N)}}),[g,C,R,G.parentUuid]);const V=o.useMemo((()=>document.createElement("canvas").getContext("2d")),[]);o.useMemo((()=>{V.canvas.width=Math.max(1,Math.floor(g*s)),V.canvas.height=Math.max(1,Math.floor(C*s))}),[V.canvas,g,C,s]);const q=o.useMemo((()=>{const e=new i.CanvasTexture(V.canvas);return e.anisotropy=16,e}),[V.canvas,g,C]),H=o.useMemo((()=>({backgroundImage:new Image})),[]);o.useMemo((()=>{v&&(H.backgroundImage.src=v)}),[H.backgroundImage,v]);const J=o.useCallback((e=>{const t=V.canvas.width,n=V.canvas.height,r=Math.PI/180,o=(t+n)/2,{mapLinear:c}=i.MathUtils;V.globalCompositeOperation="source-over",V.clearRect(0,0,t,n);{const e=Array.isArray(b),i=b,a=b;let[l=0,c=0,s=0,d=0]=e?i:[a,a,a,a];l*=o,c*=o,s*=o,d*=o,V.beginPath(),V.moveTo(l,0),V.lineTo(t-c,0),V.arc(t-c,c,c,270*r,360*r),V.lineTo(t,n-s),V.arc(t-s,n-s,s,0,90*r),V.lineTo(d,n),V.arc(d,n-d,d,90*r,180*r),V.lineTo(0,l),V.arc(l,l,l,180*r,270*r),V.closePath()}V.globalAlpha=p,V.fillStyle=w,V.lineWidth=k*o*2,V.fill();const s=k*o,d=k*o;if(void 0!==v){const e=x[0],r=x[1],o=0,i=0,a=H.backgroundImage.width,l=H.backgroundImage.height,u=a/l,h=t/n;let m=a,f=l;switch(E){case"stretch":m=t,f=n;break;case"contain":m=t-2*s,f=n-2*d,u>h?f=m/u:m=f*u;break;case"cover":m=t-2*s,f=n-2*d,u<h?f=m/u:m=f*u}const g=s+c(e,0,1,0,t-2*s-m),C=d+c(r,0,1,0,n-2*d-f);V.save(),V.clip(),V.drawImage(H.backgroundImage,o,i,a,l,g,C,m,f),V.restore()}void 0!==z&&(l().font=T,l().fontSize=O*Math.min(t,n),l().align=j,l().vAlign=A,l().justify=U,l().fontWeight=P,l().fontStyle=a.fontStyle,V.textBaseline="bottom",V.fillStyle=D,l().drawText(V,z,s,d,t-2*s,n-2*d)),V.globalCompositeOperation="destination-out",V.stroke(),V.globalCompositeOperation="source-over",V.save(),V.clip(),V.strokeStyle=y,V.stroke(),V.restore(),q.needsUpdate=!0}),[V,H,k,b,y,v,w,x,E,q,P,O,T,O,Z,A,j,z,D]);o.useEffect((()=>(d.add(N,J),()=>d.remove(N))),[N,J]);const[K,Q]=o.useState([]),X=o.useMemo((()=>K.map((()=>o.createRef()))),[K]);o.useEffect((()=>{const e={width:g,height:C};e.width-=2*k,e.height-=2*k;let t=[...X];["column","row-reverse"].includes(S)&&t.reverse(),t.forEach(((t,n)=>{const[r,o]=function(e){let{currentChildren:t,index:n,flexDirection:r,alignItems:o,justifyContent:i,gap:a,size:l}=e;const c=t.reduce(((e,t)=>e+t.width),0),s=t.reduce(((e,t)=>e+t.height),0);let d=0,u=0,h=c,m="width",f="height";if(["column","column-reverse"].includes(r)&&(m="height",f="width",h=s),t.length>0&&!["space-between","space-around"].includes(i)&&(h+=a*(t.length-1)),"start"===i){d=.5*l[m]+.5*t[0][m]-l[m],"column"===r&&(d=.5*l[m]+.5*t[0][m]-h);for(let e=1;e<=n;e++)d+=.5*t[e-1][m]+.5*t[e][m]+a}if("center"===i){d=.5*t[0][m]-.5*h;for(let e=1;e<=n;e++)d+=.5*t[e-1][m]+.5*t[e][m]+a}if("end"===i){d=.5*l[m]+.5*t[0][m]-h,"column"===r&&(d=.5*l[m]+.5*t[0][m]-l[m]);for(let e=1;e<=n;e++)d+=.5*t[e-1][m]+.5*t[e][m]+a}if("space-between"===i)if(h>=l[m]){d=.5*l[m]+.5*t[0][m]-l[m];for(let e=1;e<=n;e++)d+=.5*t[e-1][m]+.5*t[e][m]}else{let e=Math.max(0,l[m]-h);0===t.length?e=0:e>0&&(e/=t.length-1),d=.5*l[m]+.5*t[0][m]-l[m];for(let r=1;r<=n;r++)d+=.5*t[r-1][m]+.5*t[r][m]+e}if("space-around"===i)if(h>=l[m]){d=.5*l[m]+.5*t[0][m]-l[m];for(let e=1;e<=n;e++)d+=.5*t[e-1][m]+.5*t[e][m]}else{let e=Math.max(0,l[m]-h);0===t.length?e=0:e>0&&(e/=t.length+1),d=.5*l[m]+.5*t[0][m]-l[m],d+=e;for(let r=1;r<=n;r++)d+=.5*t[r-1][m]+.5*t[r][m]+e}return"start"===o&&(["row","row-reverse"].includes(r)&&(u=.5*l[f]-.5*t[n][f]),["column","column-reverse"].includes(r)&&(u=-.5*l[f]+.5*t[n][f])),"end"===o&&(["row","row-reverse"].includes(r)&&(u=-.5*l[f]+.5*t[n][f]),["column","column-reverse"].includes(r)&&(u=.5*l[f]-.5*t[n][f])),["column","column-reverse"].includes(r)?[u,d]:[d,u]}({currentChildren:K,index:n,flexDirection:S,alignItems:M,justifyContent:Z,gap:I,size:e});t.current.position.x=r,t.current.position.y=o}))}),[X,K,g,C,S,M,Z,k,I]);const Y=o.useMemo((()=>({currentChildren:K,parentUuid:N,addChild(e){Q((t=>{const n=[...t],r=t.findIndex((t=>t.uuid===e.uuid));return-1===r?n.push({...e}):n[r]={...e},n.sort(((e,t)=>e.index-t.index))}))},removeChild(e){Q((t=>t.filter((t=>t.uuid!==e))))}})),[K,N]);return o.useEffect((()=>{const e=L.current;null!==e&&e.traverse((e=>{e instanceof i.Mesh&&e.material instanceof i.Material&&(e.material.transparent=!0,e.material.opacity=p,e.material.needsUpdate=!0)}))}),[p]),o.createElement(u.Provider,{value:Y},o.createElement("group",(0,r.Z)({ref:t},B,{visible:m}),o.createElement("mesh",{renderOrder:F+n},o.createElement("planeBufferGeometry",{args:[g,C]}),o.createElement("meshBasicMaterial",{ref:_,side:i.FrontSide,opacity:p,transparent:!0,depthWrite:!1,map:q})),o.createElement("group",{renderOrder:F+n+1,ref:L},o.Children.map(W,((e,t)=>o.isValidElement(e)?o.createElement("group",{key:t,ref:X[t]},o.cloneElement(e,{...e.props,childIndex:t})):e)))))}const f=o.forwardRef(m);f.displayName="layer";var g=f},261:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(294),o=n(184);function i(e){let{textContent:t,selected:n,onClick:i,fontSize:a,width:l,height:c,fontFamily:s="system-ui, sans-serif"}=e;const[d,u]=r.useState(!1);return r.createElement(o.Z,{width:l,height:c,backgroundColor:d||n?"white":"#111111",color:d||n?"#111111":"white",textContent:t,fontFamily:s,fontSize:a,textAlign:"center",verticalAlign:"middle",onPointerOver:()=>u(!0),onPointerOut:()=>u(!1),onClick:e=>{i(e),u(!1)}})}},291:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(294),o=n(369),i=n(659),a=n(846),l=n(989),c=n(581);function s(e){let{children:t}=e;const n=r.useMemo((()=>new o.d(6,6,6,10,10,10).translate(0,3,0)),[]);return r.createElement(i.de,{legacy:!0,flat:!0,linear:!0,gl:{alpha:!1}},r.createElement("color",{args:["#333333"],attach:"background"}),r.createElement("lineSegments",{geometry:n},r.createElement("lineBasicMaterial",{color:"#c0c0c0"})),r.createElement(l.c,{makeDefault:!0,position:[0,1.6,0]}),r.createElement(c.z,{makeDefault:!0,target:[0,1,-1.8]}),r.createElement("ambientLight",null),r.createElement(a.M,null),r.createElement("group",{position:[0,1,-1.88]},t))}},258:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(294),o=n(291),i=n(184),a=n(261);function l(){const[e,t]=r.useState("row"),[n,l]=r.useState("center"),[c,s]=r.useState("space-around");return r.createElement(o.Z,null,r.createElement(i.Z,{width:1.5,height:.2,flexDirection:"column",justifyContent:"space-between","position-y":.625},r.createElement(i.Z,{width:.8,height:.05,justifyContent:"space-around"},r.createElement(a.Z,{width:.1,height:.05,fontSize:.5,textContent:"row",selected:"row"===e,onClick:()=>t("row")}),r.createElement(a.Z,{width:.2,height:.05,fontSize:.5,textContent:"row-reverse",selected:"row-reverse"===e,onClick:()=>t("row-reverse")}),r.createElement(a.Z,{width:.15,height:.05,fontSize:.5,textContent:"column",selected:"column"===e,onClick:()=>t("column")}),r.createElement(a.Z,{width:.25,height:.05,fontSize:.5,textContent:"column-reverse",selected:"column-reverse"===e,onClick:()=>t("column-reverse")})),r.createElement(i.Z,{width:.85,height:.05,justifyContent:"space-around"},r.createElement(a.Z,{width:.25,height:.05,fontSize:.5,textContent:"alignItems: start",selected:"start"===n,onClick:()=>l("start")}),r.createElement(a.Z,{width:.25,height:.05,fontSize:.5,textContent:"alignItems: center",selected:"center"===n,onClick:()=>l("center")}),r.createElement(a.Z,{width:.25,height:.05,fontSize:.5,textContent:"alignItems: end",selected:"end"===n,onClick:()=>l("end")})),r.createElement(i.Z,{width:1.6,height:.05,justifyContent:"space-around"},r.createElement(a.Z,{width:.25,height:.05,fontSize:.5,textContent:"justifyContent: start",selected:"start"===c,onClick:()=>s("start")}),r.createElement(a.Z,{width:.35,height:.05,fontSize:.5,textContent:"justifyContent: space-around",selected:"space-around"===c,onClick:()=>s("space-around")}),r.createElement(a.Z,{width:.35,height:.05,fontSize:.5,textContent:"justifyContent: space-between",selected:"space-between"===c,onClick:()=>s("space-between")}),r.createElement(a.Z,{width:.25,height:.05,fontSize:.5,textContent:"justifyContent: center",selected:"center"===c,onClick:()=>s("center")}),r.createElement(a.Z,{width:.25,height:.05,fontSize:.5,textContent:"justifyContent: end",selected:"end"===c,onClick:()=>s("end")}))),r.createElement(i.Z,{width:1,height:1,borderWidth:.025,borderColor:"#222222",borderRadius:.05,backgroundColor:"#444444",flexDirection:e,alignItems:n,justifyContent:c},r.createElement(i.Z,{width:.25,height:.25,backgroundColor:"red"}),r.createElement(i.Z,{width:.25,height:.25,backgroundColor:"green"}),r.createElement(i.Z,{width:.25,height:.25,backgroundColor:"lightblue"})))}}}]);
//# sourceMappingURL=258.61cf2199.chunk.js.map