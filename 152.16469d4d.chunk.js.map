{"version":3,"file":"152.16469d4d.chunk.js","mappings":"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","sources":["webpack://@app/client/./src/components/button.tsx","webpack://@app/client/./src/components/example.tsx","webpack://@app/client/./src/examples/typography.tsx","webpack://@app/client/./src/lib/hooks/use-render-order.tsx","webpack://@app/client/./src/lib/components/layer.tsx","webpack://@app/client/./src/lib/services/layout.ts"],"sourcesContent":["import { GroupProps } from \"@react-three/fiber\";\nimport React from \"react\";\nimport Layer from \"@/lib/components/layer\";\n\ntype Props = {\n  textContent: string;\n  selected: boolean;\n  onClick: GroupProps[\"onClick\"];\n  fontSize: number;\n  width: number;\n  height: number;\n  fontFamily?: string;\n};\n\nexport default function Button({\n  textContent,\n  selected,\n  onClick,\n  fontSize,\n  width,\n  height,\n  fontFamily = \"system-ui, sans-serif\",\n}: Props) {\n  const [pointerOver, setPointerOver] = React.useState(false);\n\n  return (\n    <Layer\n      width={width}\n      height={height}\n      backgroundColor={pointerOver || selected ? \"white\" : \"#111111\"}\n      color={pointerOver || selected ? \"#111111\" : \"white\"}\n      textContent={textContent}\n      fontFamily={fontFamily}\n      fontSize={fontSize}\n      textAlign=\"center\"\n      verticalAlign=\"middle\"\n      onPointerOver={() => setPointerOver(true)}\n      onPointerOut={() => setPointerOver(false)}\n      onClick={(event) => {\n        onClick(event);\n        setPointerOver(false);\n      }}\n    />\n  );\n}\n","import React from \"react\";\nimport { BoxLineGeometry } from \"three/examples/jsm/geometries/BoxLineGeometry\";\nimport { DefaultXRControllers, VRCanvas as Canvas } from \"@react-three/xr\";\nimport { OrbitControls, PerspectiveCamera } from \"@react-three/drei\";\n\ntype Props = {\n  children?: React.ReactNode;\n};\n\nexport default function Example({ children }: Props) {\n  const room = React.useMemo(() => {\n    return new BoxLineGeometry(6, 6, 6, 10, 10, 10).translate(0, 3, 0);\n  }, []);\n\n  return (\n    <Canvas legacy flat linear gl={{ alpha: false }}>\n      {/** Background, cameras, controls and lights */}\n      <color args={[\"#333333\"]} attach=\"background\" />\n      <lineSegments geometry={room}>\n        <lineBasicMaterial color=\"#c0c0c0\" />\n      </lineSegments>\n      <PerspectiveCamera makeDefault position={[0, 1.6, 0]} />\n      <OrbitControls makeDefault target={[0, 1, -1.8]} />\n      <ambientLight />\n      <DefaultXRControllers />\n\n      <group position={[0, 1, -1.88]}>{children}</group>\n    </Canvas>\n  );\n}\n","import React from \"react\";\nimport Example from \"@/components/example\";\nimport Layer from \"@/lib/components/layer\";\nimport Button from \"@/components/button\";\n\n// Arial (sans-serif)\n// Verdana (sans-serif)\n// Helvetica (sans-serif)\n// Tahoma (sans-serif)\n// Trebuchet MS (sans-serif)\n// Times New Roman (serif)\n// Georgia (serif)\n// Garamond (serif)\n// Courier New (monospace)\n// Brush Script MT (cursive)\n\nexport default function Typography() {\n  const [fontFamily, setFontFamily] = React.useState(\"system-ui\");\n\n  return (\n    <Example>\n      <Layer\n        width={1.3}\n        height={0.1}\n        justifyContent=\"space-around\"\n        position-y={0.6}\n      >\n        <Button\n          textContent=\"system-ui\"\n          fontFamily=\"system-ui\"\n          selected={fontFamily === \"system-ui\"}\n          onClick={() => setFontFamily(\"system-ui\")}\n          fontSize={0.3}\n          width={0.2}\n          height={0.1}\n        />\n        <Button\n          textContent=\"Arial\"\n          fontFamily=\"Arial, sans-serif\"\n          selected={fontFamily === \"Arial\"}\n          onClick={() => setFontFamily(\"Arial, sans-serif\")}\n          fontSize={0.3}\n          width={0.2}\n          height={0.1}\n        />\n        <Button\n          textContent=\"Times New Roman\"\n          fontFamily=\"Times New Roman, serif\"\n          selected={fontFamily === \"Times New Roman, serif\"}\n          onClick={() => setFontFamily(\"Times New Roman, serif\")}\n          fontSize={0.3}\n          width={0.3}\n          height={0.1}\n        />\n        <Button\n          textContent=\"Courier New\"\n          fontFamily=\"Courier New, monospace\"\n          selected={fontFamily === \"Courier New, monospace\"}\n          onClick={() => setFontFamily(\"Courier New, monospace\")}\n          fontSize={0.3}\n          width={0.25}\n          height={0.1}\n        />\n        <Button\n          textContent=\"Brush Script MT\"\n          fontFamily=\"Brush Script MT, cursive\"\n          selected={fontFamily === \"Brush Script MT, cursive\"}\n          onClick={() => setFontFamily(\"Brush Script MT, cursive\")}\n          fontSize={0.3}\n          width={0.25}\n          height={0.1}\n        />\n      </Layer>\n      <Layer\n        width={1}\n        height={1}\n        borderWidth={0.025}\n        borderColor=\"#222222\"\n        borderRadius={0.05}\n        backgroundColor=\"#444444\"\n        fontFamily={fontFamily}\n        textContent={`This is a test with some long text...`}\n        textAlign=\"center\"\n        verticalAlign=\"middle\"\n        color=\"crimson\"\n      />\n    </Example>\n  );\n}\n","import React from \"react\";\n\nlet lastRenderOrder = -1;\n\nexport default function useRenderOrder() {\n  return React.useMemo(() => {\n    return ++lastRenderOrder;\n  }, []);\n}\n","import React from \"react\";\nimport * as THREE from \"three\";\nimport { useFrame, useThree } from \"@react-three/fiber\";\nimport canvasTxt from \"canvas-txt\";\nimport useRenderOrder from \"@/lib/hooks/use-render-order\";\nimport layout from \"@/lib/services/layout\";\nimport { BorderArray, LayerContextType, LayerProps } from \"@/lib/types\";\n\nconst LayerContext = React.createContext<LayerContextType>({\n  parentUuid: null,\n  currentChildren: [],\n  addChild() {},\n  removeChild() {},\n});\n\nconst DEFAULT_BACKGROUND_POSITION: LayerProps[\"backgroundPosition\"] = [0, 0];\n\nfunction Layer(\n  {\n    zIndex = 0,\n    resolution = 2048,\n    visible = true,\n    autoLayout = true,\n    width = 1,\n    height = 1,\n    opacity = 1,\n    backgroundColor = \"transparent\",\n    backgroundImage,\n    backgroundSize,\n    backgroundPosition = DEFAULT_BACKGROUND_POSITION,\n    borderRadius = 0,\n    borderWidth = 0,\n    borderColor = \"transparent\",\n    flexDirection = \"row\",\n    alignItems = \"center\",\n    justifyContent = \"center\",\n    gap = 0,\n    textContent,\n    textAlign = \"left\",\n    justifyText = false,\n    verticalAlign = \"top\",\n    color = \"white\",\n    fontFamily = \"system-ui, sans-serif\",\n    fontSize = 0.1,\n    fontWeight = \"normal\",\n    childIndex,\n    children,\n    ...props\n  }: LayerProps,\n  ref: React.ForwardedRef<THREE.Group>\n) {\n  const renderOrder = useRenderOrder();\n\n  const gl = useThree((state) => state.gl);\n\n  const materialRef = React.useRef<THREE.MeshBasicMaterial>(null);\n  const childrenGroupRef = React.useRef<THREE.Group>(null);\n\n  const layerContext = React.useContext(LayerContext);\n\n  const uuid = React.useMemo(() => {\n    return THREE.MathUtils.generateUUID();\n  }, []);\n\n  React.useEffect(() => {\n    if (layerContext.parentUuid === null) return;\n    layerContext.addChild({ width, height, index: childIndex, uuid });\n    return () => {\n      layerContext.removeChild(uuid);\n    };\n  }, [width, height, childIndex, layerContext.parentUuid]);\n\n  // Create 2d canvas context\n  const ctx = React.useMemo<CanvasRenderingContext2D>(() => {\n    const canvas = document.createElement(\"canvas\");\n    return canvas.getContext(\"2d\");\n  }, []);\n\n  // Set canvas size\n  React.useMemo(() => {\n    ctx.canvas.width = Math.max(1, Math.floor(width * resolution));\n    ctx.canvas.height = Math.max(1, Math.floor(height * resolution));\n  }, [ctx.canvas, width, height, resolution]);\n\n  // Create canvas texture with the newly created canvas;\n  // this will be used as the texture for the plane\n  const canvasTexture = React.useMemo(() => {\n    const canvasTexture = new THREE.CanvasTexture(ctx.canvas);\n    canvasTexture.anisotropy = gl.capabilities.getMaxAnisotropy();\n    return canvasTexture;\n  }, [ctx.canvas, gl.capabilities, width, height]);\n\n  const images = React.useMemo(() => {\n    const backgroundImage = new Image();\n    return { backgroundImage };\n  }, []);\n\n  // Set source for background image\n  React.useMemo(() => {\n    images.backgroundImage.src = backgroundImage;\n  }, [images.backgroundImage, backgroundImage]);\n\n  useFrame(() => {\n    // Useful vars\n    const w = ctx.canvas.width;\n    const h = ctx.canvas.height;\n    const d2r = Math.PI / 180; // degrees to radians\n    const res = (w + h) / 2;\n    const { mapLinear } = THREE.MathUtils;\n\n    ctx.globalCompositeOperation = \"source-over\";\n\n    ctx.clearRect(0, 0, w, h);\n\n    // Border radius\n    {\n      const isArray = Array.isArray(borderRadius);\n      const array = borderRadius as BorderArray;\n      const number = borderRadius as number;\n      let [tl = 0, tr = 0, br = 0, bl = 0] = isArray\n        ? array\n        : [number, number, number, number];\n      tl *= res;\n      tr *= res;\n      br *= res;\n      bl *= res;\n      ctx.beginPath();\n      ctx.moveTo(tl, 0);\n      ctx.lineTo(w - tr, 0);\n      ctx.arc(w - tr, tr, tr, d2r * 270, d2r * 360);\n      ctx.lineTo(w, h - br);\n      ctx.arc(w - br, h - br, br, 0, d2r * 90);\n      ctx.lineTo(bl, h);\n      ctx.arc(bl, h - bl, bl, d2r * 90, d2r * 180);\n      ctx.lineTo(0, tl);\n      ctx.arc(tl, tl, tl, d2r * 180, d2r * 270);\n      ctx.closePath();\n    }\n\n    ctx.globalAlpha = opacity;\n\n    // Background color\n    ctx.fillStyle = backgroundColor;\n    ctx.lineWidth = borderWidth * res * 2;\n    ctx.fill();\n\n    const ox = borderWidth * res;\n    const oy = borderWidth * res;\n\n    // Background image\n    if (backgroundImage !== undefined) {\n      const x = backgroundPosition[0];\n      const y = backgroundPosition[1];\n      const sx = 0;\n      const sy = 0;\n      const sw = images.backgroundImage.width;\n      const sh = images.backgroundImage.height;\n      const ir = sw / sh;\n      const cr = w / h;\n      let dw = sw;\n      let dh = sh;\n      switch (backgroundSize) {\n        case \"stretch\":\n          dw = w;\n          dh = h;\n          break;\n        case \"contain\":\n          dw = w - ox * 2;\n          dh = h - oy * 2;\n          if (ir > cr) {\n            dh = dw / ir;\n          } else {\n            dw = dh * ir;\n          }\n          break;\n        case \"cover\":\n          dw = w - ox * 2;\n          dh = h - oy * 2;\n          if (ir < cr) {\n            dh = dw / ir;\n          } else {\n            dw = dh * ir;\n          }\n          break;\n      }\n      const dx = ox + mapLinear(x, 0, 1, 0, w - ox * 2 - dw);\n      const dy = oy + mapLinear(y, 0, 1, 0, h - oy * 2 - dh);\n      ctx.save();\n      ctx.clip();\n      ctx.drawImage(images.backgroundImage, sx, sy, sw, sh, dx, dy, dw, dh);\n      ctx.restore();\n    }\n\n    // Typography\n    if (textContent !== undefined) {\n      canvasTxt.font = fontFamily;\n      canvasTxt.fontSize = fontSize * Math.min(w, h);\n      canvasTxt.align = textAlign;\n      canvasTxt.vAlign = verticalAlign;\n      canvasTxt.justify = justifyText;\n      canvasTxt.fontWeight = fontWeight;\n      ctx.textBaseline = \"bottom\";\n      ctx.fillStyle = color;\n      canvasTxt.drawText(ctx, textContent, ox, oy, w - ox * 2, h - oy * 2);\n    }\n\n    // Fixes antialiasing issue\n    ctx.globalCompositeOperation = \"destination-out\";\n    ctx.stroke();\n    ctx.globalCompositeOperation = \"source-over\";\n    ctx.save();\n    ctx.clip();\n\n    ctx.strokeStyle = borderColor;\n    // Border\n    ctx.stroke();\n    ctx.restore();\n\n    // Make sure canvas texture gets updated\n    canvasTexture.needsUpdate = true;\n  });\n\n  const [currentChildren, setCurrentChildren] = React.useState<\n    LayerContextType[\"currentChildren\"]\n  >([]);\n\n  const childGroupRefs = React.useMemo(() => {\n    return currentChildren.map(() => React.createRef<THREE.Group>());\n  }, [currentChildren]);\n\n  // Layout calculations\n  React.useEffect(() => {\n    const size = { width, height };\n    size.width -= borderWidth * 2;\n    size.height -= borderWidth * 2;\n    let refs = [...childGroupRefs];\n    if ([\"column\", \"row-reverse\"].includes(flexDirection)) {\n      refs.reverse();\n    }\n    refs.forEach((ref, index) => {\n      const [x, y] = layout({\n        currentChildren,\n        index,\n        flexDirection,\n        alignItems,\n        justifyContent,\n        gap,\n        size,\n      });\n      ref.current.position.x = x;\n      ref.current.position.y = y;\n    });\n  }, [\n    childGroupRefs,\n    currentChildren,\n    width,\n    height,\n    flexDirection,\n    alignItems,\n    justifyContent,\n    borderWidth,\n    gap,\n  ]);\n\n  const layerProviderValue = React.useMemo<LayerContextType>(() => {\n    return {\n      currentChildren,\n      parentUuid: uuid,\n      addChild(child) {\n        setCurrentChildren((currentChildren) => {\n          const nextCurrentChildren = [...currentChildren];\n          const index = currentChildren.findIndex((value) => {\n            return value.uuid === child.uuid;\n          });\n          if (index === -1) {\n            nextCurrentChildren.push({ ...child });\n          } else {\n            nextCurrentChildren[index] = { ...child };\n          }\n          return nextCurrentChildren.sort((a, b) => {\n            return a.index - b.index;\n          });\n        });\n      },\n      removeChild(uuid) {\n        setCurrentChildren((currentChildren) => {\n          return currentChildren.filter((value) => value.uuid !== uuid);\n        });\n      },\n    };\n  }, [currentChildren, uuid]);\n\n  React.useEffect(() => {\n    const childrenGroup = childrenGroupRef.current;\n    if (childrenGroup === null) return;\n    childrenGroup.traverse((object) => {\n      if (\n        object instanceof THREE.Mesh &&\n        object.material instanceof THREE.Material\n      ) {\n        object.material.transparent = true;\n        object.material.opacity = opacity;\n        object.material.needsUpdate = true;\n      }\n    });\n  }, [opacity]);\n\n  return (\n    <LayerContext.Provider value={layerProviderValue}>\n      <group ref={ref} {...props} visible={visible}>\n        <mesh renderOrder={renderOrder + zIndex}>\n          <planeBufferGeometry args={[width, height]} />\n          <meshBasicMaterial\n            ref={materialRef}\n            side={THREE.FrontSide}\n            opacity={opacity}\n            transparent={true}\n            depthWrite={false}\n            map={canvasTexture}\n          />\n        </mesh>\n        <group renderOrder={renderOrder + zIndex + 1} ref={childrenGroupRef}>\n          {React.Children.map(children, (child, childIndex) => {\n            if (React.isValidElement(child)) {\n              return (\n                <group key={childIndex} ref={childGroupRefs[childIndex]}>\n                  {React.cloneElement(child, { ...child.props, childIndex })}\n                </group>\n              );\n            }\n            return child;\n          })}\n        </group>\n      </group>\n    </LayerContext.Provider>\n  );\n}\n\nconst ForwardedLayer = React.forwardRef(Layer);\nForwardedLayer.displayName = \"layer\";\nexport default ForwardedLayer;\n","import { Child, LayerProps, Size } from \"@/lib/types\";\n\ntype Axis = \"width\" | \"height\";\n\ntype Args = {\n  currentChildren: Child[];\n  index: number;\n  flexDirection: LayerProps[\"flexDirection\"];\n  alignItems: LayerProps[\"alignItems\"];\n  justifyContent: LayerProps[\"justifyContent\"];\n  gap: LayerProps[\"gap\"];\n  size: Size;\n};\n\nexport default function layout({\n  currentChildren,\n  index,\n  flexDirection,\n  alignItems,\n  justifyContent,\n  gap,\n  size,\n}: Args): [x: number, y: number] {\n  const childrenWidth = currentChildren.reduce((width, child) => {\n    return width + child.width;\n  }, 0);\n  const childrenHeight = currentChildren.reduce((height, child) => {\n    return height + child.height;\n  }, 0);\n  let x = 0;\n  let y = 0;\n  let contentSize = childrenWidth;\n  let axis: Axis = \"width\";\n  let axisInverted: Axis = \"height\";\n  if ([\"column\", \"column-reverse\"].includes(flexDirection)) {\n    axis = \"height\";\n    axisInverted = \"width\";\n    contentSize = childrenHeight;\n  }\n  if (\n    currentChildren.length > 0 &&\n    ![\"space-between\", \"space-around\"].includes(justifyContent)\n  ) {\n    contentSize += gap * (currentChildren.length - 1);\n  }\n  /**\n   * justifyContent\n   */\n  if (justifyContent === \"start\") {\n    x = size[axis] * 0.5 + currentChildren[0][axis] * 0.5 - size[axis];\n    if (flexDirection === \"column\") {\n      x = size[axis] * 0.5 + currentChildren[0][axis] * 0.5 - contentSize;\n    }\n    for (let i = 1; i <= index; i++) {\n      x +=\n        currentChildren[i - 1][axis] * 0.5 +\n        currentChildren[i][axis] * 0.5 +\n        gap;\n    }\n  }\n  if (justifyContent === \"center\") {\n    x = currentChildren[0][axis] * 0.5 - contentSize * 0.5;\n    for (let i = 1; i <= index; i++) {\n      x +=\n        currentChildren[i - 1][axis] * 0.5 +\n        currentChildren[i][axis] * 0.5 +\n        gap;\n    }\n  }\n  if (justifyContent === \"end\") {\n    x = size[axis] * 0.5 + currentChildren[0][axis] * 0.5 - contentSize;\n    if (flexDirection === \"column\") {\n      x = size[axis] * 0.5 + currentChildren[0][axis] * 0.5 - size[axis];\n    }\n    for (let i = 1; i <= index; i++) {\n      x +=\n        currentChildren[i - 1][axis] * 0.5 +\n        currentChildren[i][axis] * 0.5 +\n        gap;\n    }\n  }\n  if (justifyContent === \"space-between\") {\n    if (contentSize >= size[axis]) {\n      x = size[axis] * 0.5 + currentChildren[0][axis] * 0.5 - size[axis];\n      for (let i = 1; i <= index; i++) {\n        x +=\n          currentChildren[i - 1][axis] * 0.5 + currentChildren[i][axis] * 0.5;\n      }\n    } else {\n      let spacing = Math.max(0, size[axis] - contentSize);\n      if (currentChildren.length === 0) {\n        spacing = 0;\n      } else if (spacing > 0) {\n        spacing /= currentChildren.length - 1;\n      }\n      x = size[axis] * 0.5 + currentChildren[0][axis] * 0.5 - size[axis];\n      for (let i = 1; i <= index; i++) {\n        x +=\n          currentChildren[i - 1][axis] * 0.5 +\n          currentChildren[i][axis] * 0.5 +\n          spacing;\n      }\n    }\n  }\n  if (justifyContent === \"space-around\") {\n    if (contentSize >= size[axis]) {\n      x = size[axis] * 0.5 + currentChildren[0][axis] * 0.5 - size[axis];\n      for (let i = 1; i <= index; i++) {\n        x +=\n          currentChildren[i - 1][axis] * 0.5 + currentChildren[i][axis] * 0.5;\n      }\n    } else {\n      let spacing = Math.max(0, size[axis] - contentSize);\n      if (currentChildren.length === 0) {\n        spacing = 0;\n      } else if (spacing > 0) {\n        spacing /= currentChildren.length + 1;\n      }\n      x = size[axis] * 0.5 + currentChildren[0][axis] * 0.5 - size[axis];\n      x += spacing;\n      for (let i = 1; i <= index; i++) {\n        x +=\n          currentChildren[i - 1][axis] * 0.5 +\n          currentChildren[i][axis] * 0.5 +\n          spacing;\n      }\n    }\n  }\n  /**\n   * alignItems\n   */\n  if (alignItems === \"start\") {\n    if ([\"row\", \"row-reverse\"].includes(flexDirection)) {\n      y = size[axisInverted] * 0.5 - currentChildren[index][axisInverted] * 0.5;\n    }\n    if ([\"column\", \"column-reverse\"].includes(flexDirection)) {\n      y =\n        size[axisInverted] * -0.5 + currentChildren[index][axisInverted] * 0.5;\n    }\n  }\n  if (alignItems === \"center\") {\n    // No calculation needed\n  }\n  if (alignItems === \"end\") {\n    if ([\"row\", \"row-reverse\"].includes(flexDirection)) {\n      y =\n        size[axisInverted] * -0.5 + currentChildren[index][axisInverted] * 0.5;\n    }\n    if ([\"column\", \"column-reverse\"].includes(flexDirection)) {\n      y = size[axisInverted] * 0.5 - currentChildren[index][axisInverted] * 0.5;\n    }\n  }\n  if ([\"column\", \"column-reverse\"].includes(flexDirection)) {\n    return [y, x];\n  }\n\n  return [x, y];\n}\n"],"names":["Button","textContent","selected","onClick","fontSize","width","height","fontFamily","pointerOver","setPointerOver","React","backgroundColor","color","textAlign","verticalAlign","onPointerOver","onPointerOut","event","Example","children","room","BoxLineGeometry","translate","legacy","flat","linear","gl","alpha","args","attach","geometry","makeDefault","position","target","Typography","setFontFamily","justifyContent","borderWidth","borderColor","borderRadius","lastRenderOrder","LayerContext","parentUuid","currentChildren","addChild","removeChild","DEFAULT_BACKGROUND_POSITION","Layer","ref","zIndex","resolution","visible","autoLayout","opacity","backgroundImage","backgroundSize","backgroundPosition","flexDirection","alignItems","gap","justifyText","fontWeight","childIndex","props","renderOrder","useThree","state","materialRef","childrenGroupRef","layerContext","uuid","THREE","index","ctx","document","createElement","getContext","canvas","Math","max","floor","canvasTexture","anisotropy","capabilities","getMaxAnisotropy","images","Image","src","useFrame","w","h","d2r","PI","res","mapLinear","globalCompositeOperation","clearRect","isArray","Array","array","number","tl","tr","br","bl","beginPath","moveTo","lineTo","arc","closePath","globalAlpha","fillStyle","lineWidth","fill","ox","oy","undefined","x","y","sx","sy","sw","sh","ir","cr","dw","dh","dx","dy","save","clip","drawImage","restore","canvasTxt","min","textBaseline","stroke","strokeStyle","needsUpdate","setCurrentChildren","childGroupRefs","map","size","refs","includes","reverse","forEach","childrenWidth","reduce","child","childrenHeight","contentSize","axis","axisInverted","length","i","spacing","layout","current","layerProviderValue","nextCurrentChildren","findIndex","value","push","sort","a","b","filter","childrenGroup","traverse","object","material","transparent","Provider","side","depthWrite","key","ForwardedLayer","displayName"],"sourceRoot":""}