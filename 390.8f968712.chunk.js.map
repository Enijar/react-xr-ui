{"version":3,"file":"390.8f968712.chunk.js","mappings":"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","sources":["webpack://react-xr-ui/./examples/components/button.tsx","webpack://react-xr-ui/./examples/examples/performance.tsx","webpack://react-xr-ui/./src/components/interaction.tsx"],"sourcesContent":["import React from \"react\";\nimport { Interaction, Layer } from \"react-xr-ui\";\n\ntype Props = {\n  textContent: string;\n  selected: boolean;\n  onClick: () => void;\n  fontSize: number | `${number}px`;\n  width: number;\n  height: number;\n  fontFamily?: string;\n  optimizedRendering?: boolean;\n};\n\nexport default function Button({\n  textContent,\n  selected,\n  onClick,\n  fontSize,\n  width,\n  height,\n  fontFamily = \"system-ui, sans-serif\",\n  optimizedRendering = false,\n}: Props) {\n  const [pointerOver, setPointerOver] = React.useState(false);\n\n  return (\n    <Interaction\n      onOver={() => {\n        setPointerOver(true);\n        document.body.style.cursor = \"pointer\";\n      }}\n      onOut={() => {\n        setPointerOver(false);\n        document.body.style.cursor = \"auto\";\n      }}\n      onDown={() => {\n        onClick();\n        setPointerOver(false);\n      }}\n    >\n      <Layer\n        width={width}\n        height={height}\n        backgroundColor={pointerOver || selected ? \"white\" : \"#111111\"}\n        color={pointerOver || selected ? \"#111111\" : \"white\"}\n        textContent={textContent}\n        fontFamily={fontFamily}\n        fontSize={fontSize}\n        textAlign=\"center\"\n        verticalAlign=\"middle\"\n        optimizedRendering={optimizedRendering}\n      />\n    </Interaction>\n  );\n}\n","import React from \"react\";\nimport { useFrame } from \"@react-three/fiber\";\nimport { Layer, LayerProps } from \"react-xr-ui\";\nimport Example from \"@/components/example\";\nimport ViewCode from \"@/components/view-code\";\nimport Button from \"@/components/button\";\n\nfunction Nested({\n  letter,\n  children,\n  alignItems = \"center\",\n  justifyContent = \"center\",\n}: {\n  letter: string;\n  children?: React.ReactNode;\n  alignItems?: LayerProps[\"alignItems\"];\n  justifyContent?: LayerProps[\"justifyContent\"];\n}) {\n  return (\n    <Layer\n      textContent={letter}\n      width=\"90%\"\n      height=\"90%\"\n      backgroundColor=\"crimson\"\n      alignItems={alignItems}\n      justifyContent={justifyContent}\n    >\n      <Layer\n        textContent={letter}\n        width=\"90%\"\n        height=\"90%\"\n        backgroundColor=\"blue\"\n        alignItems={alignItems}\n        justifyContent={justifyContent}\n        fontSize={0.5}\n      >\n        <Layer\n          textContent={letter}\n          width=\"90%\"\n          height=\"90%\"\n          backgroundColor=\"green\"\n          alignItems={alignItems}\n          justifyContent={justifyContent}\n          fontSize={0.5}\n        >\n          <Layer\n            textContent={letter}\n            width=\"90%\"\n            height=\"90%\"\n            backgroundColor=\"hotpink\"\n            alignItems={alignItems}\n            justifyContent={justifyContent}\n            fontSize={0.5}\n          >\n            <Layer\n              textContent={letter}\n              width=\"90%\"\n              height=\"90%\"\n              backgroundColor=\"purple\"\n              alignItems={alignItems}\n              justifyContent={justifyContent}\n              fontSize={0.5}\n            >\n              <Layer\n                textContent={letter}\n                width=\"90%\"\n                height=\"90%\"\n                backgroundColor=\"grey\"\n                alignItems={alignItems}\n                justifyContent={justifyContent}\n                fontSize={0.5}\n              >\n                <Layer\n                  textContent={letter}\n                  width=\"90%\"\n                  height=\"90%\"\n                  backgroundColor=\"aliceblue\"\n                  alignItems={alignItems}\n                  justifyContent={justifyContent}\n                  fontSize={0.5}\n                >\n                  {children}\n                </Layer>\n              </Layer>\n            </Layer>\n          </Layer>\n        </Layer>\n      </Layer>\n    </Layer>\n  );\n}\n\nconst aligns: LayerProps[\"alignItems\"][] = [\"start\", \"center\", \"end\"];\nconst justifies: LayerProps[\"justifyContent\"][] = [\"start\", \"center\", \"end\"];\n\nlet i = 0;\n\nconst delay = 200;\n\nconst letters: string[] = [\n  \"a\",\n  \"b\",\n  \"c\",\n  \"d\",\n  \"e\",\n  \"f\",\n  \"g\",\n  \"h\",\n  \"i\",\n  \"j\",\n  \"k\",\n  \"l\",\n  \"m\",\n  \"n\",\n  \"o\",\n  \"p\",\n  \"q\",\n  \"r\",\n  \"s\",\n  \"t\",\n  \"u\",\n  \"v\",\n  \"w\",\n  \"x\",\n  \"y\",\n  \"z\",\n];\n\nfunction Scene() {\n  const [align, setAlign] = React.useState<LayerProps[\"alignItems\"]>(\"start\");\n  const [justify, setJustify] =\n    React.useState<LayerProps[\"justifyContent\"]>(\"start\");\n\n  const [letter, setLetter] = React.useState(letters[0]);\n\n  const lastFrameTimeRef = React.useRef(Date.now());\n\n  useFrame(() => {\n    const now = Date.now();\n    if (now - lastFrameTimeRef.current < delay) return;\n    lastFrameTimeRef.current = now;\n    i++;\n    setAlign(aligns[i % aligns.length]);\n    setJustify(justifies[i % justifies.length]);\n    setLetter(letters[i % letters.length]);\n  });\n\n  return (\n    <Layer width={1} height={1} backgroundColor=\"black\">\n      <Nested letter={letter} alignItems={align} justifyContent={justify}>\n        <Nested letter={letter} alignItems={align} justifyContent={justify}>\n          <Nested letter={letter} alignItems={align} justifyContent={justify}>\n            <Nested letter={letter} alignItems={align} justifyContent={justify}>\n              <Nested\n                letter={letter}\n                alignItems={align}\n                justifyContent={justify}\n              >\n                <Nested\n                  letter={letter}\n                  alignItems={align}\n                  justifyContent={justify}\n                >\n                  <Nested\n                    letter={letter}\n                    alignItems={align}\n                    justifyContent={justify}\n                  >\n                    <Nested\n                      letter={letter}\n                      alignItems={align}\n                      justifyContent={justify}\n                    >\n                      <Nested\n                        letter={letter}\n                        alignItems={align}\n                        justifyContent={justify}\n                      >\n                        <Nested\n                          letter={letter}\n                          alignItems={align}\n                          justifyContent={justify}\n                        >\n                          <Nested\n                            letter={letter}\n                            alignItems={align}\n                            justifyContent={justify}\n                          />\n                        </Nested>\n                      </Nested>\n                    </Nested>\n                  </Nested>\n                </Nested>\n              </Nested>\n            </Nested>\n          </Nested>\n        </Nested>\n      </Nested>\n    </Layer>\n  );\n}\n\nexport default function Performance() {\n  const [optimizedRendering, setOptimizedRendering] = React.useState(false);\n\n  return (\n    <>\n      <Example optimizedRendering={optimizedRendering}>\n        <group position-y={0.61}>\n          <Layer width={1} height={0.2} flexDirection=\"column\" gap={0.025}>\n            <Layer width={1} height={0.1} gap={0.05}>\n              <Button\n                width={0.1}\n                height={0.1}\n                fontSize={0.5}\n                textContent=\"On\"\n                selected={optimizedRendering}\n                onClick={() => setOptimizedRendering(true)}\n              />\n              <Button\n                width={0.1}\n                height={0.1}\n                fontSize={0.5}\n                textContent=\"Off\"\n                selected={!optimizedRendering}\n                onClick={() => setOptimizedRendering(false)}\n              />\n            </Layer>\n            <Layer\n              width={1}\n              height={0.05}\n              textContent=\"Open Dev Tools to see Frame rendering stats\"\n              fontSize={0.6}\n              textAlign=\"center\"\n              verticalAlign=\"middle\"\n            />\n          </Layer>\n        </group>\n        <Scene />\n      </Example>\n      <ViewCode pathname=\"performance\" />\n    </>\n  );\n}\n","import React from \"react\";\nimport type { Intersection } from \"three\";\nimport { Interactive, useXR, XRInteractionEvent } from \"@react-three/xr\";\nimport { ThreeEvent } from \"@react-three/fiber\";\n\ntype Fn = (intersection: Intersection, intersections: Intersection[]) => void;\n\ntype Props = {\n  children: React.ReactNode;\n  onMove?: Fn;\n  onOver?: Fn;\n  onOut?: Fn;\n  onDown?: Fn;\n  onUp?: Fn;\n  enabled?: boolean;\n};\n\nexport default function Interaction({\n  children,\n  onMove,\n  onOver,\n  onOut,\n  onDown,\n  onUp,\n  enabled = true,\n}: Props) {\n  const isPresenting = useXR((state) => state.isPresenting);\n\n  const handleVrInteraction = React.useCallback(\n    (fn?: Fn) => {\n      return (event: XRInteractionEvent) => {\n        if (!isPresenting) return;\n        if (!enabled) return;\n        if (!fn) return;\n        fn(event.intersection, event.intersections);\n      };\n    },\n    [isPresenting, enabled, onDown, onUp, onMove, onOver, onOut]\n  );\n\n  const handleWebInteraction = React.useCallback(\n    (fn?: Fn) => {\n      return (event: ThreeEvent<PointerEvent>) => {\n        if (isPresenting) return;\n        if (!enabled) return;\n        if (!fn) return;\n        event.stopPropagation();\n        fn(event.intersections[0], event.intersections);\n      };\n    },\n    [isPresenting, enabled, onDown, onUp, onMove, onOver, onOut]\n  );\n\n  return (\n    <Interactive\n      onSelectStart={handleVrInteraction(onDown)}\n      onSelectEnd={handleVrInteraction(onUp)}\n      onMove={handleVrInteraction(onMove)}\n      onHover={handleVrInteraction(onOver)}\n      onBlur={handleVrInteraction(onOut)}\n    >\n      <group\n        onPointerDown={handleWebInteraction(onDown)}\n        onPointerUp={handleWebInteraction(onUp)}\n        onPointerMove={handleWebInteraction(onMove)}\n        onPointerOver={handleWebInteraction(onOver)}\n        onPointerOut={handleWebInteraction(onOut)}\n      >\n        {children}\n      </group>\n    </Interactive>\n  );\n}\n"],"names":["Button","_ref","textContent","selected","onClick","fontSize","width","height","fontFamily","optimizedRendering","pointerOver","setPointerOver","React","Interaction","onOver","document","body","style","cursor","onOut","onDown","Layer","backgroundColor","color","textAlign","verticalAlign","Nested","letter","children","alignItems","justifyContent","aligns","justifies","i","delay","letters","Scene","align","setAlign","justify","setJustify","setLetter","lastFrameTimeRef","Date","now","useFrame","current","length","Performance","setOptimizedRendering","Example","flexDirection","gap","ViewCode","pathname","onMove","onUp","enabled","isPresenting","useXR","state","handleVrInteraction","fn","event","intersection","intersections","handleWebInteraction","stopPropagation","Interactive","onSelectStart","onSelectEnd","onHover","onBlur","onPointerDown","onPointerUp","onPointerMove","onPointerOver","onPointerOut"],"sourceRoot":""}