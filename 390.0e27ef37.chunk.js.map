{"version":3,"file":"390.0e27ef37.chunk.js","mappings":"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","sources":["webpack://react-xr-ui/./examples/components/button.tsx","webpack://react-xr-ui/./examples/examples/performance.tsx","webpack://react-xr-ui/./src/components/interaction.tsx"],"sourcesContent":["import React from \"react\";\nimport { Interaction, Layer } from \"react-xr-ui\";\n\ntype Props = {\n  textContent: string;\n  selected: boolean;\n  onClick: () => void;\n  fontSize: number;\n  width: number;\n  height: number;\n  fontFamily?: string;\n  optimizedRendering?: boolean;\n};\n\nexport default function Button({\n  textContent,\n  selected,\n  onClick,\n  fontSize,\n  width,\n  height,\n  fontFamily = \"system-ui, sans-serif\",\n  optimizedRendering = false,\n}: Props) {\n  const [pointerOver, setPointerOver] = React.useState(false);\n\n  return (\n    <Interaction\n      onOver={() => {\n        setPointerOver(true);\n        document.body.style.cursor = \"pointer\";\n      }}\n      onOut={() => {\n        setPointerOver(false);\n        document.body.style.cursor = \"auto\";\n      }}\n      onDown={() => {\n        onClick();\n        setPointerOver(false);\n      }}\n    >\n      <Layer\n        width={width}\n        height={height}\n        backgroundColor={pointerOver || selected ? \"white\" : \"#111111\"}\n        color={pointerOver || selected ? \"#111111\" : \"white\"}\n        textContent={textContent}\n        fontFamily={fontFamily}\n        fontSize={fontSize}\n        textAlign=\"center\"\n        verticalAlign=\"middle\"\n        optimizedRendering={optimizedRendering}\n      />\n    </Interaction>\n  );\n}\n","import React from \"react\";\nimport { useFrame } from \"@react-three/fiber\";\nimport { Layer, LayerProps } from \"react-xr-ui\";\nimport Example from \"@/components/example\";\nimport ViewCode from \"@/components/view-code\";\nimport Button from \"@/components/button\";\n\nfunction Nested({\n  children,\n  alignItems = \"center\",\n  justifyContent = \"center\",\n}: {\n  children?: React.ReactNode;\n  alignItems?: LayerProps[\"alignItems\"];\n  justifyContent?: LayerProps[\"justifyContent\"];\n}) {\n  return (\n    <Layer\n      width=\"90%\"\n      height=\"90%\"\n      backgroundColor=\"crimson\"\n      alignItems={alignItems}\n      justifyContent={justifyContent}\n    >\n      <Layer\n        width=\"90%\"\n        height=\"90%\"\n        backgroundColor=\"blue\"\n        alignItems={alignItems}\n        justifyContent={justifyContent}\n        fontSize={0.5}\n        textContent=\"A\"\n      >\n        <Layer\n          width=\"90%\"\n          height=\"90%\"\n          backgroundColor=\"green\"\n          alignItems={alignItems}\n          justifyContent={justifyContent}\n          fontSize={0.5}\n          textContent=\"A\"\n        >\n          <Layer\n            width=\"90%\"\n            height=\"90%\"\n            backgroundColor=\"hotpink\"\n            alignItems={alignItems}\n            justifyContent={justifyContent}\n            fontSize={0.5}\n            textContent=\"A\"\n          >\n            <Layer\n              width=\"90%\"\n              height=\"90%\"\n              backgroundColor=\"purple\"\n              alignItems={alignItems}\n              justifyContent={justifyContent}\n              fontSize={0.5}\n              textContent=\"A\"\n            >\n              <Layer\n                width=\"90%\"\n                height=\"90%\"\n                backgroundColor=\"grey\"\n                alignItems={alignItems}\n                justifyContent={justifyContent}\n                fontSize={0.5}\n                textContent=\"A\"\n              >\n                <Layer\n                  width=\"90%\"\n                  height=\"90%\"\n                  backgroundColor=\"aliceblue\"\n                  alignItems={alignItems}\n                  justifyContent={justifyContent}\n                  fontSize={0.5}\n                  textContent=\"A\"\n                >\n                  {children}\n                </Layer>\n              </Layer>\n            </Layer>\n          </Layer>\n        </Layer>\n      </Layer>\n    </Layer>\n  );\n}\n\nconst aligns: LayerProps[\"alignItems\"][] = [\"start\", \"center\", \"end\"];\nconst justifies: LayerProps[\"justifyContent\"][] = [\"start\", \"center\", \"end\"];\n\nlet i = 0;\n\nconst delay = 200;\n\nfunction Scene() {\n  const [align, setAlign] = React.useState<LayerProps[\"alignItems\"]>(\"start\");\n  const [justify, setJustify] =\n    React.useState<LayerProps[\"justifyContent\"]>(\"start\");\n\n  const lastFrameTimeRef = React.useRef(Date.now());\n\n  useFrame(() => {\n    const now = Date.now();\n    if (now - lastFrameTimeRef.current < delay) return;\n    lastFrameTimeRef.current = now;\n    i++;\n    setAlign(aligns[i % aligns.length]);\n    setJustify(justifies[i % justifies.length]);\n  });\n\n  return (\n    <Layer width={1} height={1} backgroundColor=\"black\">\n      <Nested alignItems={align} justifyContent={justify}>\n        <Nested alignItems={align} justifyContent={justify}>\n          <Nested alignItems={align} justifyContent={justify}>\n            <Nested alignItems={align} justifyContent={justify}>\n              <Nested alignItems={align} justifyContent={justify}>\n                <Nested alignItems={align} justifyContent={justify}>\n                  <Nested alignItems={align} justifyContent={justify}>\n                    <Nested alignItems={align} justifyContent={justify}>\n                      <Nested alignItems={align} justifyContent={justify}>\n                        <Nested alignItems={align} justifyContent={justify}>\n                          <Nested alignItems={align} justifyContent={justify} />\n                        </Nested>\n                      </Nested>\n                    </Nested>\n                  </Nested>\n                </Nested>\n              </Nested>\n            </Nested>\n          </Nested>\n        </Nested>\n      </Nested>\n    </Layer>\n  );\n}\n\nexport default function Performance() {\n  const [optimizedRendering, setOptimizedRendering] = React.useState(false);\n\n  return (\n    <>\n      <Example optimizedRendering={optimizedRendering}>\n        <group position-y={0.61}>\n          <Layer width={1} height={0.2} flexDirection=\"column\" gap={0.025}>\n            <Layer width={1} height={0.1} gap={0.05}>\n              <Button\n                width={0.1}\n                height={0.1}\n                fontSize={0.5}\n                textContent=\"On\"\n                selected={optimizedRendering}\n                onClick={() => setOptimizedRendering(true)}\n              />\n              <Button\n                width={0.1}\n                height={0.1}\n                fontSize={0.5}\n                textContent=\"Off\"\n                selected={!optimizedRendering}\n                onClick={() => setOptimizedRendering(false)}\n              />\n            </Layer>\n            <Layer\n              width={1}\n              height={0.05}\n              textContent=\"Open Dev Tools to see Frame rendering stats\"\n              fontSize={0.6}\n              textAlign=\"center\"\n              verticalAlign=\"middle\"\n            />\n          </Layer>\n        </group>\n        <Scene />\n      </Example>\n      <ViewCode pathname=\"performance\" />\n    </>\n  );\n}\n","import React from \"react\";\nimport type { Intersection } from \"three\";\nimport { Interactive, useXR, XRInteractionEvent } from \"@react-three/xr\";\nimport { ThreeEvent } from \"@react-three/fiber\";\n\ntype Props = {\n  children: React.ReactNode;\n  onMove?: (intersection: Intersection) => void;\n  onOver?: (intersection: Intersection) => void;\n  onOut?: (intersection: Intersection) => void;\n  onDown?: (intersection: Intersection) => void;\n  onUp?: (intersection: Intersection) => void;\n  enabled?: boolean;\n};\n\nexport default function Interaction({\n  children,\n  onMove,\n  onOver,\n  onOut,\n  onDown,\n  onUp,\n  enabled = true,\n}: Props) {\n  const isPresenting = useXR((state) => state.isPresenting);\n\n  const handleVrInteraction = React.useCallback(\n    (fn?: (intersection: Intersection) => void) => {\n      return (event: XRInteractionEvent) => {\n        if (!isPresenting) return;\n        if (!enabled) return;\n        if (!fn) return;\n        fn(event.intersection);\n      };\n    },\n    [isPresenting, enabled, onDown, onUp, onMove, onOver, onOut]\n  );\n\n  const handleWebInteraction = React.useCallback(\n    (fn?: (intersection: Intersection) => void) => {\n      return (event: ThreeEvent<PointerEvent>) => {\n        if (isPresenting) return;\n        if (!enabled) return;\n        if (!fn) return;\n        event.stopPropagation();\n        fn(event.intersections[0]);\n      };\n    },\n    [isPresenting, enabled, onDown, onUp, onMove, onOver, onOut]\n  );\n\n  return (\n    <Interactive\n      onSelectStart={handleVrInteraction(onDown)}\n      onSelectEnd={handleVrInteraction(onUp)}\n      onMove={handleVrInteraction(onMove)}\n      onHover={handleVrInteraction(onOver)}\n      onBlur={handleVrInteraction(onOut)}\n    >\n      <group\n        onPointerDown={handleWebInteraction(onDown)}\n        onPointerUp={handleWebInteraction(onUp)}\n        onPointerMove={handleWebInteraction(onMove)}\n        onPointerOver={handleWebInteraction(onOver)}\n        onPointerOut={handleWebInteraction(onOut)}\n      >\n        {children}\n      </group>\n    </Interactive>\n  );\n}\n"],"names":["Button","textContent","selected","onClick","fontSize","width","height","fontFamily","optimizedRendering","pointerOver","setPointerOver","React","onOver","document","body","style","cursor","onOut","onDown","backgroundColor","color","textAlign","verticalAlign","Nested","children","alignItems","justifyContent","aligns","justifies","i","Scene","align","setAlign","justify","setJustify","lastFrameTimeRef","Date","now","useFrame","current","length","Performance","setOptimizedRendering","flexDirection","gap","pathname","Interaction","onMove","onUp","enabled","isPresenting","useXR","state","handleVrInteraction","fn","event","intersection","handleWebInteraction","stopPropagation","intersections","onSelectStart","onSelectEnd","onHover","onBlur","onPointerDown","onPointerUp","onPointerMove","onPointerOver","onPointerOut"],"sourceRoot":""}